"use strict";(function(){"use strict";function a(){return c||(c=new Promise(function(a,b){var c=indexedDB.open("keyval-store",1);c.onerror=function(){b(c.error)},c.onupgradeneeded=function(){c.result.createObjectStore("keyval")},c.onsuccess=function(){a(c.result)}})),c}function b(b,c){return a().then(function(a){return new Promise(function(d,e){var f=a.transaction("keyval",b);f.oncomplete=function(){d()},f.onerror=function(){e(f.error)},c(f.objectStore("keyval"))})})}var c,d={get:function get(a){var c;return b("readonly",function(b){c=b.get(a)}).then(function(){return c.result})},set:function set(a,c){return b("readwrite",function(b){b.put(c,a)})},delete:function _delete(a){return b("readwrite",function(b){b["delete"](a)})},clear:function clear(){return b("readwrite",function(a){a.clear()})},keys:function keys(){var a=[];return b("readonly",function(b){(b.openKeyCursor||b.openCursor).call(b).onsuccess=function(){this.result&&(a.push(this.result.key),this.result["continue"]())}}).then(function(){return a})}};"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define("idbKeyval",[],function(){return d}):self.idbKeyval=d})();
'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(){function b(a){return a.replace(/([-_]\w)/g,function(a){return a[1].toUpperCase()})}function a(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:a,height:b}}function c(){function a(){var a='';for(w.forEach(function(b){a+=b(s)});u.firstChild;)u.removeChild(u.firstChild);u.styleSheet?u.styleSheet.cssText=a:u.appendChild(document.createTextNode(a))}if(!v){t=document.createElement('style'),u=document.createElement('style'),t.setAttribute('type','text/css'),u.setAttribute('type','text/css');var b=document.querySelector('head');b.appendChild(t),b.appendChild(u),window.addEventListener('resize',a),window.addEventListener('orientationchange',a),x.push(a),v=!0}for(var c=arguments,d=0;d<c.length;d++)'function'==typeof c[d]&&(w.push(c[d]),u.styleSheet?u.styleSheet.cssText+=c[d](s):u.appendChild(document.createTextNode(c[d](s)))),'string'==typeof c[d]&&(t.styleSheet?t.styleSheet.cssText+=c[d]:t.appendChild(document.createTextNode(c[d])))}function d(a,b,c){if('string'==typeof a){var d=document.createElement('div');d.innerHTML=a,a=d}b=b||'#root';var g=i(b);for(g||(g=j('div')(),document.body.appendChild(g));c&&g.firstChild;)g.removeChild(g.firstChild);g.appendChild(a)}function e(a){return a&&'object'===('undefined'==typeof a?'undefined':_typeof(a))&&!Array.isArray(a)}function g(){var a=arguments,b=a[0],c=1;for({}===b&&(b=Object.assign({},a[1]),c++);c<a.length;c++)for(var d in a[c])a[c].hasOwnProperty(d)&&(b[d]=e(a[c][d])&&e(b[d])?g(b[d],a[c][d]):a[c][d]);return b}function h(a){return JSON.parse(JSON.stringify(a))}function j(a){return function(){function c(a){for(var d,e=0,h=a.length;e<h;e++){if(d=a[e],Array.isArray(d)&&0!==d.length){c(d);continue}if(d instanceof Node){g.appendChild(d);continue}if('string'==typeof d){var i=document.createElement('span');i.innerText+=d,g.appendChild(i);continue}if('object'===('undefined'==typeof d?'undefined':_typeof(d)))for(var j in d){if('style'==j){d.style.split(';').forEach(function(c){console.log('making style');var d=c.split(':');if(''!==c.trim()&&d[0]&&d[1]){console.log(c);var e=b(d[0].trim()),h=d[1].trim();console.log(e,'p',h,'a'),g.style[e]=h}});continue}if('on'===j.substring(0,2)&&'function'==typeof d[j]){g.addEventListener(j.substring(2),d[j],{passive:!0});continue}if('class'==j&&g.hasAttribute('class')){g.className+=' '+j;continue}d.hasOwnProperty(j)&&g.setAttribute(''+j,d[j])}d||g.appendChild(document.createElement('span'))}}var d=arguments,g=document.createElement(a);return c(d),g}}function i(a){return document.querySelector(a)}function k(){for(var a=y.htmlTags,b={},c=0,d=a.length;c<d;c++)b[a[c]]=j(a[c]);return b.style=function(a){var b=document.createElement('style');return b.setAttribute('type','text/css'),b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),b},b.tohtml=function(a){var c=b.div();return c.innerHTML=a,c},b}function l(a){function b(b){function c(a){d.shelf&&(d.shelf.hakCustomers=!1);var b,c=d.render();return'string'==typeof c?(b=j('div')({id:d.id}),b.innerHTML=c):b=j('div')({id:d.id},c),setTimeout(function(){a||document.body.contains(d.node)||('2'===d.hakRouteNodeId?d.nodeActive='r':d.nodeActive=!1),d.componentDidRender&&d.componentDidRender()},10),b}this.children=[],this.props={style:''};for(var d=this,e=0,h=b.length;e<h;e++){if(b[e]instanceof Node){this.children.push(b[e]);continue}if('string'==typeof b[e]){var i=document.createElement('span');i.innerText+=b[e],this.children.push(i);continue}if('object'===_typeof(b[e]))for(var k in b[e])b[e].hasOwnProperty(k)&&(this.props[k]=b[e][k])}for(var l in a)a.hasOwnProperty(l)&&(this[l]='function'==typeof a[l]?a[l].bind(this):a[l]);this.state=this.state||{},this.id=this.props.id||this.state.id||'hakComponent_'+Math.random(),this.updateKey=0,this.lastUpdate=0,this.update=function(){var b=Math.random();d.updateKey=b,d.lastUpdate=b};var m=function(a){return!!d.nodeActive&&('r'===d.nodeActive?(d.shelf=g(d.shelf,a),d.updateKey='needs updating',!1):(d.shelf=g(d.shelf,a),p(d.node,c()),d.update(),!0))};if(this.setState=function setState(a){this.state=g({},this.state,a),p(this.node,c()),d.update()}.bind(this),this.connectCustomer=function(a){var b=a(this.id,m),c=b.actions;for(var d in this.shelf=g(this.shelf||{},b.shelf),c)c.hasOwnProperty(d)&&(this[d]=c[d])},this.subscribeNew=function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++)this.connectCustomer(a[b]);else this.connectCustomer(a)},this.subscribe)if(Array.isArray(this.subscribe))for(var e=0;e<this.subscribe.length;e++)this.connectCustomer(this.subscribe[e]);else this.connectCustomer(this.subscribe);if(this.props.subscribe)if(Array.isArray(this.props.subscribe))for(var e=0;e<this.props.subscribe.length;e++)this.connectCustomer(this.props.subscribe[e]);else this.connectCustomer(this.props.subscribe);this.props.hakRouteInit&&(this.hakRouteNodeId='Route-'+this.id,this.hakRouteNode=j('div')({id:this.hakRouteNodeId}),this.props.hakRouteInit(this.hakRouteNode)),this.Constructor&&this.Constructor(),this.render||(this.render=function(){return j('div')()}),this.nodeActive=!0,this.node=c(!0)}return a.hasOwnProperty('renderChildren')||(a.renderChildren=function(a){return this.children?(a&&(this.children=this.children.slice(0,a)),j('div')({style:'margin: 0; padding: 0;'},this.children.map(function(a){return a}))):null}),a.hasOwnProperty('renderRoutes')||(a.renderRoutes=function(){return this.hakRouteNode||j('div')()}),function(){var a=new b(arguments);return a.componentDidMount&&setTimeout(a.componentDidMount,10),a.node}}function m(a,b){var c={},d=b.className,e=b.cloneNode(!0);for(var g in e.style.opacity='0',e.style.position='fixed',document.body.appendChild(e),b.style)'transition'!==g&&(c[g]=b.style[g]);for(var g in c.height=e.offsetHeight+'px',c.width=e.offsetWidth+'px',a.style)'transition'!=g&&'parentRule'!=g&&'length'!=g&&(b.style[g]=a.style[g]);b.className=a.className,b.style.height=a.offsetHeight+'px',b.style.width=a.offsetWidth+'px',b.parentElement.replaceChild(b.cloneNode(!0),b),a.parentElement.replaceChild(b,a),setTimeout(function(){for(var g in b.style.transition=b.style.transition||a.style.transition||'0.3s',c)'transition'!==g&&'parentRule'!==g&&'length'!==g&&(b.style[g]=c[g]);b.style.height=c.height,b.style.width=c.width,b.className=d,document.body.removeChild(e)},1)}function n(a,b){a.style.height=a.offsetHeight,a.style.width=a.offsetWidth,a.style.maxHeight=a.offsetHeight,a.style.maxWidth=a.offsetWidth,a.style.minHeight=a.offsetHeight,a.style.minWidth=a.offsetWidth,setTimeout(function(){var c=b.cloneNode(!0),d=a.style.transition,e={};for(var g in c.style)e[g]=c.style[g];c.style.opacity='0',c.style.position='fixed',document.body.appendChild(c),setTimeout(function(){for(var b in e.height=c.offsetHeight,e.width=c.offsetWidth,e)e.hasOwnProperty(b)&&'parentRule'!==b&&'length'!==b&&(a.style[b]=e[b]);a.style.height=c.offsetHeight,a.style.width=c.offsetWidth,document.body.removeChild(c)},1)},1)}function o(a,b,c){var d,e=b.getAttribute('hakAnimate'),i=b.cloneNode(!0);c?a.removeChild(b):setTimeout(function(){d=h(i),i.style.opacity='0',i.style.position='fixed',document.body.appendChild(i),b.style.transition='0s',b.style.height='0px',b.style.width='0px',b.style.opacity='0',a.appendChild(b),setTimeout(function(){b.style.transition=d.transition||'0.25s',d.height=b.offsetHeight,d.width=b.offsetWidth,b.style=g(b.style,d),document.body.removeChild(i)},1)},1)}function p(a,b){if(!a)return!1;var c=a.hasAttribute('hakAnimate'),d=!1;if(a.hasChildNodes()){if(!a.cloneNode(!1).isEqualNode(b.cloneNode(!1)))return c?m(a,b):(b.parentElement.replaceChild(b.cloneNode(!0),b),a.parentElement.replaceChild(b,a)),!0;if(b.hasChildNodes()){for(var e=0;e<a.children.length;e++)if(!b.children[e]){for(;a.children[e];)a.children[e].hasAttribute('hakAnimate')?o(a,a.children[e],!0):a.removeChild(a.children[e]);c&&(d=!0)}else p(a.children[e],b.children[e])&&c&&(d=!0);for(var g,h=a.children.length;h<b.children.length;h++)g=b.children[h],b.replaceChild(g.cloneNode(!0),g),g.hasAttribute('hakAnimate')?o(a,g):a.appendChild(g),h===b.children.length-1&&c&&(d=!0)}else{for(;a.firstChild;)a.firstChild.hakAnimate?o(a,a.firstChild,!0):a.removeChild(a.firstChild);c&&(d=!0)}}return d&&n(a,b),!a.isEqualNode(b)&&(c?m(a,b):(b.parentElement.replaceChild(b.cloneNode(!0),b),a.parentElement.replaceChild(b,a)),!0)}function q(a){if(!a){var b=window.location.hash.split('?')[0].split('/');return b.filter(function(a){return''!==a})}var b=window.location.pathname.split('/');return b.map(function(a){return''===a?'/':a})}function r(a){var b=window.location.href.split('?'),c={};return b[1]&&b[1].split('&').forEach(function(b){var d=b.split('=');d[1]&&(c[d[0]]=d[1])}),a?c[a]:c}var s=a();window.addEventListener('resize',function(){s=a()});var t,u,v=!1,w=[],x=[],y={fetched:0,htmlTags:['a','abbr','address','area','article','aside','audio','b','base','bdi','bdo','bgsound','blink','blockquote','body','br','button','canvas','caption','cite','code','col','colgroup','command','content','data','datalist','dd','del','details','dfn','dialog','div','dl','dt','element','em','embed','fieldset','figcaption','figure','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','iframe','image','img','input','ins','isindex','kbd','keygen','label','legend','li','link','listing','main','map','mark','marquee','menu','menuitem','meta','meter','multicol','nav','nobr','noembed','noscript','object','ol','optgroup','option','output','p','param','picture','plaintext','pre','progress','q','rp','rt','rtc','ruby','s','samp','script','section','select','shadow','slot','small','source','spacer','span','strong','sub','summary','sup','table','tbody','td','template','textarea','tfoot','th','thead','time','title','tr','track','u','ul','var','video','wbr','xmp>']};self.hak={Router:function(a,b){function c(a){var b,c=a.component({hakRouteInit:function(a){b=a}});return{node:c,rootNode:b}}function d(a,d){function g(a){return-1<o.indexOf(a)}n=m,m=q(b),d||e();for(var h=!1,j=n.filter(g),k=m.filter(g),l=0;l<k.length;l++){if(!u||h||j[l]!==k[l]||a===k[l]){h=!0;for(var i=c(r[k[l]]),t=0===l?v:p[l-1];t.firstChild;)t.removeChild(t.firstChild);t.appendChild(i.node),s[m[l]]&&s[m[l]](),p[l]=i.rootNode}for(;j[l+1]&&p[l+1]&&p[l+1].firstChild;)p[l+1].removeChild(p[l+1].firstChild)}}function e(){for(var a=0;a<t.length;a++)t[a](n,m)}function g(){for(var a=q(b).reverse(),c=0;c<a.length;c++)s[a[c]]&&s[a[c]]()}var h=!b;if(!window.location.hash&&h){var i=window.location.href.split('?'),k=i[1],l=k?'?'+k:'';a?window.history.replaceState(null,null,i[0]+'#/'+a+l):window.history.replaceState(null,null,i[0]+'#/home'+l)}var m=q(b),n=m,o=[],p=[],r={},s={},u=!1,t=[],v=j('div')({id:'hakRouter'}),x=window.onpopstate;return window.onpopstate=function(){d(),x&&x()},{getRoutes:function getRoutes(){return r},linkTo:function linkTo(a,b){a='#'===a[0]?a:'/'===a[1]?'#'+a:'#/'+a;var c='?'+window.location.href.split('?')[1],e=null;if(console.log(a,window.location.hash),a.split('?')[1])if(e=a.split('?')[1],a=a.split('?')[0],c){e=e.split('&');for(var g=0;g<e.length;g++)c.match(e[g].split('=')[0]+'=')?c=c.replace(c.split(e[g].split('=')[0]+'=')[1].split('&')[0],e[g].split('=')[1]):c+='&'+e[g]}else c=e;c=c.replace('undefined&',''),a='?'!==c&&'?undefined'!==c?a+c:a,a!==window.location.hash&&(history.pushState(null,null,a),d()),b&&b()},render:function render(){if(e(null,!0),0<y.fetched){console.log('fetched');var a=setInterval(function(){0===y.fetched&&(g(),e(),clearInterval(a))},50)}return v=j('div')({id:'hakRouter'}),d(null,!0),u=!0,v},addMiddleware:function addMiddleware(a){t.push(a)},addRoute:function addRoute(a,c,e,g){'/'===a&&(b=!0),r[a]={},r[a].component=c,e&&(s[a]=e),o.push(a),!g&&u&&d()},addRoutes:function addRoutes(){for(var a=this,b=arguments,c=0;c<b.length;c++)a.addRoute(b[c][0],b[c][1],b[c][2],!0);u&&d()},add:function add(b){Array.isArray(b)?this.addRoutes(arguments):this.addRoute(arguments)}}},Store:function(a,b,c){function d(a,b,c,e){for(var g in a)a.hasOwnProperty(g)&&('object'!==_typeof(a[g])||Array.isArray(a[g])||d(a[g]),'function'==typeof a[g]&&(a[g]=a[g].bind(a)));return(!a.methodsAdded||c)&&void(e&&(a.hakRootShelf=!0),a.methodsAdded=!0,a.stockStore=j,a.stockShelf=h.bind(a),a.updateCustomers=k.bind(a),a.addCustomer=l.bind(a),a.shelf_id=a.shelf_id||'hakShelf'+Math.random(),a.hakCustomers=c?b||[]:a.hakCustomers||b||[],a.hasOwnProperty('Constructor')&&a.Constructor())}function h(a){if(a=g({},this,a),this!==a){for(var b in a)a.hasOwnProperty(b)&&'shelf_id'!==b&&(this[b]=a[b]);i(this.shelf_id),w||(w=!0,setTimeout(x,301))}}function j(a){q.stockShelf(a)}function i(a){function b(a,c){if('object'===('undefined'==typeof a?'undefined':_typeof(a))){if(a.shelf_id===c)return a.updateCustomers(!0),!0;for(var d in a)a.hasOwnProperty(d)&&b(a[d],c)&&a.hasOwnProperty('updateCustomers')&&a.updateCustomers(!1)}return!1}b(q,a)}function k(a){for(var b,c=0;c<this.hakCustomers.length;c++)b=this,this.hakCustomers[c].buyShelf&&this.hakCustomers[c].buyShelf(b);if(a)for(var d in this)this.hasOwnProperty(d)&&e(this[d])&&this[d].hasOwnProperty('updateCustomers')&&this[d].updateCustomers(!0)}function l(a){this.hakCustomers.push(a)}function m(a){q.stockStore(a),t=g(t,a)}function n(a,c){if(!c)return a;if('string'==typeof c)return a[c];if(Array.isArray(c)){for(var d=a,b=0;b<c.length;b++)d[c[b]]||(d[c[b]]={}),d=d[c[b]];return d}}function o(){function a(b,c){if(Array.isArray(c)&&c.forEach(function(c,d){return'object'===('undefined'==typeof c?'undefined':_typeof(c))?(b[d]=Array.isArray(c)?[]:{},void a(b[d],c)):void('function'==typeof c?b[d]=null:b[d]=c)}),!(c.hasOwnProperty('privateShelf')&&c.privateShelf))for(var d in c)if(c.hasOwnProperty(d)){if('hakCustomers'===d||'shelf_id'===d||'methodsAdded'===d)continue;if('object'===_typeof(c[d])){b[d]=Array.isArray(c[d])?[]:{},a(b[d],c[d]);continue}'function'!=typeof c[d]&&(b[d]=c[d])}}var b={};return a(b,q),b}function p(a){function b(a,b){function c(a,b){for(var d in b)b.hasOwnProperty(d)&&('string'==typeof b[d]?a[d]=b[d].substring(0):(a[d]={},c(a[d],b[d])))}function d(a){if('object'===('undefined'==typeof a?'undefined':_typeof(a)))for(var c in a)a.hasOwnProperty(c)&&(a[c]='object'===_typeof(a[c])?d(a[c]):b[a[c]]||!1);return a}var e={};return c(e,a),d(e)}function c(){m(b(u,r())),console.log('works')}u=g({},u,a),v=!1,c();var d=window.onpopstate;window.onpopstate=function(){d&&d(),c()}}var q=a||{Constructor:function Constructor(){console.log('No initial data given')}},s=!1,t={},u={},v=!0,w=!1,x=function(){};if(b)if(idbKeyval&&q.useIndexDB&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB))y.fetched++,x=function(){idbKeyval.set(b,o()),w=!1},idbKeyval.get(b).then(function(a){if(!s)if(a){var b=Object.assign(a,t);q.stockShelf(b)}else x();y.fetched--});else{x=function(){localStorage.setItem(b,JSON.stringify(o())),w=!1};var z=JSON.parse(localStorage.getItem(b)||'{}');z&&g(q,z)}return c&&window.fetch&&fetch(c).then(function(a){s=!0,q.stockShelf(a),x()}),d(q,[],!0,!0),{setParams:p,updated:s,getMethods:function(){function a(b,c){for(var d in c)c.hasOwnProperty(d)&&(e(c[d])?(b[d]={},a(b[d],c[d])):'function'==typeof c[d]&&(b[d]=c[d]))}var b={};return a(b,q),b},getData:o,getEntireStore:function getEntireStore(){return q},stockInShelf:function stockInShelf(){var a={},b=arguments,c=[];for(var d in b)e(b[d])?a=g(a,b[d]):c.push[b[d]];n(q,c).stockShelf(a)},stockStore:j,forceStockStore:m,getShelf:function getShelf(a){return g({},n(q,a))},subscribe:function subscribe(){var a=arguments;return function(b,c){for(var e={shelf:{},actions:{stockStore:j}},g=0;g<a.length;g++)if(Array.isArray(a[g])){var h=n(q,a[g]);d(h),e.shelf[a[g][a[g].length-1]]=h,h.addCustomer({id:b,buyShelf:c.bind(h)})}else d(q[a[g]]),e.shelf[a[g]]=q[a[g]],q[a[g]].addCustomer({id:b,buyShelf:c.bind(h)});return 0===a.length&&(e.shelf=q,q.addCustomer({id:b,buyShelf:c.bind(q)})),e}}}},Component:l,tags:k(),El:j,K:function(){for(var b=arguments,a={},c=0;c<b.length;c++)'object'!==_typeof(b[c])||Array.isArray(b[c])||g(a,b[c]),'function'==typeof b[c]&&(a.render=b[c]);return l(a)()},addTags:k,mount:d,$:i,addAudio:function(a,b,c,e){var g=new Audio(a+'.mp3');return g.setAttribute('id',(b||'')+a),d(g,'audio',c),e||(g.preload='auto'),g},isUrl:function(a){var b=/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.?)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i;return b.test(a)},merge:g,clone:h,getUrlPath:q,replaceNodes:p,variables:y,getScreenSize:a,addStyle:c,updateStyles:function updateStyles(){newStylesFunctions.forEach(function(){f()})},getParams:r,setParam:function(a,b,c){var d=r(),e=[];for(var g in b?d[a]=b:a&&delete d[a],d)d.hasOwnProperty(g)&&d[g]&&e.push(g+'='+d[g]);var h=e[0]?'?'+e.join('&'):'';h=window.location.href.split('?')[0]+h,window.history[c?'pushState':'replaceState'](null,null,h)},screenSize:s}})();
"use strict";
'use strict';for(var prop in hak.tags)hak.tags.hasOwnProperty(prop)&&(window[prop]=hak.tags[prop]);hak.variables.css='',hak.variables.scrollTop=0,hak.variables.scrolledDown=!1;var APP_VERSION=7,STYLES={menuBarColor:'dodgerblue',mainColor:'dodgerblue',secondaryColor:'deepskyblue',thirdColor:'skyblue',boldColor:'dodgerblue',hoverColor:'lightskyblue',backgroundColor:'#fbfbfb',cardColor:'white',faveColor:'#edc500',underStatedColor:'#e9e9e9'},APP={routes:{},scrollEventFunctions:[],playScrollFunctions:!0};
'use strict';var dictionaryStore=hak.Store({useIndexDB:!0,mienEntries:[{}],englishEntries:[{}],loaded:!1,stocked:!1,sortAlphabetically:function sortAlphabetically(c,a){var c=c.word.toLowerCase(),a=a.word.toLowerCase();return c<a?-1:c>a?1:0},editEntry:function editEntry(a,b){var c,d=b?'mien':'english',a=a,e=!0,f=this[d+'Entries'].map(function(b){return b._id===a._id?(c=hak.clone(b),e=!1,a):b});e&&f.push(a),f.sort(this.sortAlphabetically);var g=this;setTimeout(function(){c||(c=hak.clone(a),c.isNewWord=!0),g.editedEntries.add(a,c)},30);var h={stocked:!0};h[d+'Entries']=f,this.stockStore(h)},editedEntries:{oldEntries:[],list:[],add:function add(a,b){var c=!0,d=this.list.filter(function(b){return b._id!==a._id}),e=this.oldEntries.map(function(a){return b._id===a._id&&(c=!1),a});c&&e.push(b),d.push(a),this.stockShelf({list:d,oldEntries:e})},cancel:function cancel(a){function b(a){return h._id===a._id?h:a}function c(a){return a._id!==h._id}var d,e,f=dictionaryStore.getEntireStore(),a=a,g=this.list.filter(function(b){return b._id!==a._id}),h=this.oldEntries.filter(function(b){return b._id===a._id})[0]||{_id:Math.random()};h.isNewWord?(d=f.mienEntries.filter(c),e=f.englishEntries.filter(c)):(d=f.mienEntries.map(b),e=f.englishEntries.map(b)),e.sort(f.sortAlphabetically),d.sort(f.sortAlphabetically);var i={mienEntries:d,englishEntries:e,editedEntries:{list:g}};this.stockStore(i)}}},'MienDictionaryStore_v'+APP_VERSION);
'use strict';var miscInitData={pageData:{selectedPage:'',changePage:function changePage(b){this.stockShelf({selectedPage:b})}},book:{selectedLetter:'',changeSelectedLetter:function changeSelectedLetter(a){this.stockShelf({selectedLetter:a}),hak.setParam('letter',a,!0)}},language:{isMien:!0,changeLanguage:function changeLanguage(){this.stockShelf({isMien:!this.isMien}),hak.setParam('lang',this.isMien?'mien':'',!0)}},featureCard:{id:'',changeFeatureCard:function changeFeatureCard(a){this.stockShelf({id:a})}},search:{query:'',setQuery:function setQuery(a){this.stockShelf({query:a})}},test:{test2:{test3:{x:'hello'}}}},miscStore=hak.Store(miscInitData,'MienMiscStore_v'+APP_VERSION);miscStore.setParams({language:{isMien:'lang'},book:{selectedLetter:'letter'}});var startingPage=-1<window.location.hash.indexOf('search')?'search':-1<window.location.hash.indexOf('book')?'book':-1<window.location.hash.indexOf('star')?'star':'';miscStore.stockStore({pageData:{selectedPage:startingPage}});
'use strict';var starInitData={favorites:{list:[],idList:[],addToFavorites:function addToFavorites(a,b){b?this.idList=this.idList.filter(function(b){return a._id!==b}):this.idList.push(a._id),this.stockShelf({idList:this.idList})},getFavorites:function getFavorites(){for(var a=[],b=dictionaryStore.getEntireStore(),c=b.englishEntries||[],d=b.mienEntries||[],e=0;e<c.length;e++)-1<this.idList.indexOf(c[e]._id)&&(a[this.idList.indexOf(c[e]._id)]=c[e]);for(var e=0;e<d.length;e++)-1<this.idList.indexOf(d[e]._id)&&(a[this.idList.indexOf(d[e]._id)]=d[e]);return a}},settings:{showSettings:!1,changePage:function changePage(a,b){this.stockShelf({showSettings:b})}},editing:{editStatus:!1,topEditor:!1,wordsEdited:{},wordsAdded:{},changeEditStatus:function changeEditStatus(){this.stockShelf({editStatus:!this.editStatus})}}},starStore=hak.Store(starInitData,'MienStarStore_v'+APP_VERSION);
'use strict';var SmallButton=function(a){function b(){e&&(f=!f,k.style=g+(f?c:d),k.className=f?j:i),a.onclick&&'function'==typeof a.onclick&&a.onclick()}var c=a.onStyle||'',d=a.offStyle||'',e=a.toggle||!1,f=a.isOn||!1,g=a.style||'',h='SmallButton '+a.class||'',i='faintShadow '+h,j='fainterShadow '+h,k=div({class:f?j:i,style:g+(f?c:d),onclick:b},a.text||'');return a.hakAnimate&&k.setAttribute('hakAnimate',a.hakAnimate),k};hak.addStyle('\n.SmallButton {\n\tcolor: #555;\n  background: white;\n  user-select: none;\n  height: 40px;\n  width: 60px;\n  border-radius: 4px;\n  text-align: center;\n  align-items: center;\n  line-height: 40px;\n  transition: 0.25s;\n}\n\n.SmallButton:hover {\n\tcursor: pointer;\n}\n');var OverlayContainer=hak.Component({render:function render(){this.props.view;return div({style:'OverlayContainer'},div({class:'OverlayContainer_shadow',onclick:this.triggerOverlay}),div({class:'OverlayContainer_child'},this.children))}});hak.addStyle('\n\n.OverlayContainer {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: 0.3s;\n}\n\n.OverlayContainer_shadow {\n\ttransition: 0.25s;\n\tposition: fixed;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tz-index: 101;\n\tbackground: black;\n\topacity: 0.5;\n}\n\n.OverlayContainer_child {\n\tz-index: 102;\n\tdisplay: flex;\n}\t\n\n.OC_inView {\n\t\n}\n\n');var PageSelectorButtons=function(a){var b='color: white; background: '+STYLES.secondaryColor+';';return div({class:'PageSelectorButtons fainterShadow flex-row'},a.entries.map(function(c,d){var e=a.selected===c||a.selected===d?b:'';return div({class:'PageSelectorButtons_button flex-row',style:e,onclick:function onclick(){return a.onclick(c,d)}},c)}))};hak.addStyle(function(a){var b=450>a.width?a.width-78:308;return'\n\t.PageSelectorButtons {\n\t\tborder-radius: 70px; \n\t\twidth: '+b+'px;\n\t\theight: 48px;\n\t\toverflow: hidden;\n\t}\n\n\t.PageSelectorButtons_button {\n\t\tbackground: white;\n\t\tfont-size: 20px;\n\t\tcolor: #444;\n\t\twidth: '+b/2+'px;\n\t\talign-items: center;\n\t\theight: 48px;\t\n\t\tpadding-top: 2px;\n\t}\n'});
'use strict';var EditWordCard=hak.Component({Constructor:function Constructor(){this.word=this.props.word,this.resetState()},componentDidRender:function componentDidRender(){this.props.callBack&&this.props.callBack(this.node.offsetHeight)},resetState:function resetState(){var a=this.word;this.fresh=!0,this.state={word:a||{_id:!1,lastEdited:'New Word'},wordPlace:a?a.word:'Type your word here',clarifyerPlace:a?a.clarifyer:'Type up a description and/or example sentences of your word',otherWordPlace:'Definition',otherClarifyer:'A short description and/or example of this definition',otherWords:a?a.otherWords.slice(0):[],savingEdit:!1},this.data={word:a?a.word.substring(0):'',clarifyer:a?a.clarifyer.substring(0):'',otherWords:a?a.otherWords.map(function(a){return{word:a.word?a.word.substring(0):'',clarifyer:a.clarifyer?a.clarifyer.substring(0):''}}):[]}},getStyles:function getStyles(){return{deleteButton:'color: white;\n\t\t\t\tbackground: tomato; \n\t\t\t\theight: 30px; \n\t\t\t\twidth: 70px; \n\t\t\t\tfloat: right;\n\t\t\t\tmarigin: 13px 3px 5px 0px; \n\t\t\t\tfont-size: 18px;\n\t\t\t\tline-height: 28px; \n\t\t\t\tfont-weight: normal;',addDefButton:'background: '+STYLES.mainColor+';\n\t\t\t\tcolor: white; \n\t\t\t\twidth: auto; \n\t\t\t\tfont-size: 22px;\n\t\t\t\theight: 44px;\n\t\t\t\tline-height: 44px;\n\t\t\t\tmargin: 15px 24px 20px 24px;',buttonRow:'display: flex;\n\t\t\t\twidth: auto;\n\t\t\t\tmargin: 20px 5px 5px 5px;\n\t\t\t\tjustify-content: space-around; ',divider:'width: auto; \n\t\t\t\theight: 5px;\n\t\t\t\tbackground: '+STYLES.backgroundColor+';\n\t\t\t\tmargin: 30px -26px 20px -26px;',confirmButton:'width: 160px;\n\t\t\t\tcolor: white;\n\t\t\t\tbackground: '+STYLES.mainColor+';',clarifyerTextarea:'margin-bottom: 0px;',otherWordsContainer:'margin-bottom: 60px;'}},render:function render(){this.style=this.getStyles();var a=this,b=this.data,c=this.state,d=this.setState,e=textarea({data:b.word,rows:18<c.wordPlace.length?2:1,class:'wordTitle WordCard_textarea',style:'font-size: 26px; font-weight: normal;',placeholder:c.wordPlace,oninput:function oninput(b){a.editWord(b,'word')}}),f=textarea({data:b.clarifyer,rows:3,style:'font-size: 16px;',class:'wordClarifyer WordCard_textarea',placeholder:c.clarifyerPlace,oninput:function oninput(b){a.editWord(b,'clarifyer')}});return e.value=this.data.word,f.value=this.data.clarifyer,[e,f,div({style:this.style.divider}),this.data.otherWords.map(this.renderMapOtherWords),SmallButton({text:'Add Definition',style:this.style.addDefButton,onclick:this.addDefinition}),div({style:this.style.divider}),this.renderSavingEditButtons()]},renderSavingEditButtons:function renderSavingEditButtons(){var a=this.state,b=this.setState;return div({style:this.style.buttonRow},a.savingEdit?[SmallButton({hakAnimate:!0,text:'Back',onclick:function onclick(){b({savingEdit:!1})},style:'width: 80px;'}),SmallButton({hakAnimate:!0,text:'Confirm Save',onclick:this.saveEdit,style:this.style.confirmButton})]:[SmallButton({hakAnimate:!0,text:'Cancel',style:'width: 110px;',onclick:this.cancelEdit}),SmallButton({hakAnimate:!0,text:'Save',style:'width: 110px; background: '+STYLES.mainColor+'; color: white;',onclick:function onclick(){b({savingEdit:!0})}})])},renderMapOtherWords:function renderMapOtherWords(a,b){var c=this,d=this.state,b=b,e=d.otherWords[b],f=textarea({rows:20<a.word.length?2:1,class:'otherWordTitle WordCard_textarea boldFont',style:'font-size: 18px;',placeholder:e?e.word:d.otherWordPlace,oninput:function oninput(a){c.editWord(a,b,'word')}}),g=textarea({rows:3,class:'wordClarifyer WordCard_textarea',style:this.style.clarifyerTextarea,placeholder:e?e.clarifyer:d.otherClarifyer,oninput:function oninput(a){c.editWord(a,b,'clarifyer')}});return f.value=a.word||'',g.value=a.clarifyer||'',div({k:Math.random(),class:'WordCard_otherWord',style:this.style.otherWordsContainer},f,g,SmallButton({text:'delete',style:c.style.deleteButton,onclick:function onclick(){c.deleteDefinition(b)}}))},addDefinition:function addDefinition(){this.data.otherWords.push({word:'',clarifyer:''}),this.fresh=!1,this.setState({k:Math.random()})},deleteDefinition:function deleteDefinition(a){console.log(this.data.otherWords.splice(a,1)),console.log(this.data.otherWords),this.fresh=!1,this.setState({k:Math.random()})},editWord:function editWord(a,b,c){return this.fresh=!1,'string'==typeof b?(this.data[b]=a.target.value,!0):void(this.data.otherWords[b][c]=a.target.value)},saveEdit:function saveEdit(){var a=!!miscStore.getShelf('language').isMien,b=hak.clone(this.data);b._id=this.state.word._id||(a?'mien-':'english-')+new Date().getTime(),dictionaryStore.getEntireStore().editEntry(b,a),this.cancelEdit()},cancelEdit:function cancelEdit(){for(var a=this.state.word.word===this.data.word&&this.state.word.clarifyer===this.data.clarifyer,b=0;b<this.data.otherWords.length;b++){var c=this.data.otherWords[b],d=this.state.otherWords[b];d&&c&&c.word===d.word&&c.clarifyer===d.clarifyer||(a=!1)}a=a||this.fresh,this.resetState(),this.setState({k:Math.random()}),a&&this.props.cancelFunction&&this.props.cancelFunction()}});hak.addStyle(function(a){var b=450>a.width?a.width-110:282;return'\n.WordCard_textarea {\n\tpadding: 10px;\n\twidth: '+b+'px;\n\tborder: 1px solid #fbfbfb;\n\tmargin: -3px 0px -3px 0px;\n}\n\n.WordCard_otherWord {\n\tmargin-top: 30px;\n\tmargin-bottom: 30px;\n\tfont-weight: bold;\n\tborder-sizing: box-border;\n\ttransition: 0.3s;\n}\n\n\t'});
'use strict';var WordCard=hak.Component({Constructor:function Constructor(){this.state={open:this.props.open,editing:!1,favorite:this.props.favorite||!1,x:!0,cancel:!1},this.cardHeight='1000px'},render:function render(){var a=this,b=this.props,c=this.state,d=c.open,e='*'===b.query,f=e?'<strong style="color: #000;">'+b.word+'</strong>':b.word.replace(b.query,'<strong style="color: #000;">'+b.query+'</strong>'),g=b.clarifyer.split('\n')[0].substring(0,30),h=d?'WordCard noSelect fainterShadow':'WordCard noSelect fainterShadow WordCard_closed';return g+=30<=b.clarifyer.split('\n')[0].length?'...':'',this.state.editing?this.renderEditCard():div({k:Math.random(),hakAnimate:!0,id:this.id+'w',class:h,style:d?'':'cursor: pointer; \n\t\t\t  margin: 7px 5px 0px 5px; \n\t\t\t  min-width: 30px; \n\t\t\t  padding: 15px 23px 2px 23px;  \n\t\t\t  -webkit-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n        -moz-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n          box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);',onclick:d?'':this.openCard},div({class:'WordCard_header--section'},div(p({class:'wordTitle'},tohtml(f)),b.clarifyer?p({class:'wordClarifyer',style:'font-size: 15px;'},d?b.clarifyer:g):div({style:'display: none;'})),this.renderOpenOrFave()),d&&this.renderOtherWords())},renderEditCard:function renderEditCard(){var a=this,b=div({class:'WordCard noSelect faintShadow',style:'margin: 20px;',hakAnimate:!0}),c=EditWordCard({word:this.props,callBack:function(a){b.style.height=a+50+'px'},cancelFunction:function cancelFunction(){a.setState({editing:!1})}});return b.appendChild(c),b},renderOpenOrFave:function renderOpenOrFave(){if(this.state.open){var a=function(){c.addToFavorites(b.props,d),d=!d,b.setState({x:!b.state.x})},b=this,c=starStore.getShelf('favorites'),d=-1<c.idList.indexOf(b.props._id),e='font-size: 24px; padding-top: 15px;'+(d?'color: '+STYLES.faveColor+';':'color: #888;');return div({onclick:a,style:'padding: 15px; margin: -15px;'},div({class:'WordCard_button',style:e},tohtml('&#9733;')))}return div({class:'WordCard_button'},'+')},renderOtherWords:function renderOtherWords(){var a=this,b=a.state.cancel,c='float: right; margin-right: 5px; color: white; background: tomato;'+(b?'width: 145px;':'width: 120px;');return div({class:'WordCard_body'},a.props.otherWords.map(function(a){return[div({class:'WordCard_divider'}),div({class:'WordCard_header--section WordCard_other'},div(p({class:'otherWordTitle'},' '+a.word),a.clarifyer?p({class:'wordClarifyer',style:'font-size: 14px;'},a.clarifyer):null))]}),this.props.editing?[div({class:'WordCard_divider',style:'margin-bottom: 18px;'}),SmallButton({hakAnimate:Math.random(),text:b?'No':'Edit',onclick:b?function(){a.setState({cancel:!1})}:function(){a.setState({editing:!0})},style:'float: right; color: white; background:'+STYLES.mainColor+';'}),this.props.cancelEdit?SmallButton({hakAnimate:Math.random(),text:b?'Are you sure?':'Delete Edit',onclick:b?this.props.cancelEdit:function(){a.setState({cancel:!a.state.cancel})},style:c}):null]:null)},renderButtons:function renderButtons(){return div({class:'WordCard_Buttons'},div(),tohtml('&#9733;'))},openCard:function openCard(){this.setState({open:!this.state.open})},playSound:function playSound(){var a='../sound/words/'+this.state.id+'.mp3',b=new Audio(a);b&&b.play()}});hak.addStyle(function(a){var b=450>a.width?a.width-40:350;return'\n\n.WordCard {\n\tbox-sizing: border-box;\n\toutline: none !important;\n\toverflow: hidden;\n  border-radius: 12px;\n  padding: 25px 25px 17px 25px;\n  margin: 11px 5px 5px 5px;\n\tbackground: white;\n\ttransition: 0.24s;\n  width: '+b+'px;\n  max-width: '+b+'px;\n  min-width: '+b+'px;\n}\n\n.WordCard_closed {\n\twidth: '+(b-30)+'px;\n\tmax-width: '+(b-30)+'px;\n}\n'},'\n\n.WordCard_Buttons {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding-top: 4px;\n\tfont-size: 22px;\n\twidth: 100%;\n\tcolor: #888;\n}\n.WordCard_button {\n  font-size: 36px;\n  text-align: center;\n  padding-top: 10px;\n  margin: -17px 19px -10px 10px;\n  width: 0px;\n  height: 10px;\n  cursor: pointer;\n}\n\n.WordCard_divider {\n\twidth: auto; \n\theight: 1px;\n\tbackground: '+STYLES.backgroundColor+';\n\tmargin: 14px -26px 7px -26px;\n}\n\n.WordCard_header--section {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.WordCard_other {\n\tpadding: 5px 5px 0px 5px;\n}\n\n\n.wordTitle {\n\tcolor: #111;\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 32px;\n  padding-bottom: 2px;\n  font-family: "Arial Black", Gadget, sans-serif;\n}\n\t\n.wordClarifyer {\n\tcolor: #555;\n\tfont-size: 12px;\n  font-style: italic;\n  left: 0; right: 0;\n  margin-right: 0px;\n  padding: 4px 5px 5px 5px;\n\n}\n\t\n.otherWordTitle {\n\tcolor: #222;\n  padding: 5px 0px 0px 0px;\n  font-size: 23px;\n\tline-height: 30px;\n}');
'use strict';var Book=hak.Component({subscribe:[miscStore.subscribe('book','language'),starStore.subscribe('editing'),dictionaryStore.subscribe()],Constructor:function Constructor(){this.state={results:[],abc:['A-Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']}},render:function render(){var a=this,b=this.shelf.book;return div(b.selectedLetter?div({class:'BookList'},div({class:'BookList_sidescroller lightShadow'},this.renderBookItems(1)),div({id:'DicAnchor',class:'DicAnchor'},p({style:'font-size: 40px; float: left; padding: 24px;'},b.selectedLetter.toUpperCase()),this.getResults(10))):div({class:'Book'},this.renderBookItems()))},renderBookItems:function renderBookItems(a){var b=this.shelf.book,c=b.selectedLetter,d=a?'margin: -0px 7px -0px 5px;':'',e=c?this.state.abc:this.state.abc.slice(1),f=this.state.abc[0];return e.map(function(a){return div({class:'BookItem'+(b.selectedLetter?'':' fainterShadow'),style:d,id:'book'+a,ontouchmove:function ontouchmove(a){b.selectedLetter&&a.stopPropagation()},onclick:function onclick(){document.documentElement.scrollTop=0;var c=hak.$('.BookList_sidescroller'),d=c&&c.scrollLeft;b.changeSelectedLetter(a===f?'':a);var c=hak.$('.BookList_sidescroller');c&&(c.scrollLeft=d)}},p({style:a===c?'font-weight: bold; color: dodgerblue':'color: #111;'},a))})},getResults:function getResults(b){for(var c,d=this.shelf,e=d.editing.editStatus,f=d.book.selectedLetter,a=d.language.isMien?'mien':'english',g=d[a+'Entries']||[],h=[],b=b||20,j=0;j<g.length;j++)c=g[j],(c.clarifyer||c.word)&&c.word&&c.word[0].toLowerCase()===f&&h.push(c);var k=h.splice(b);return setTimeout(function(){var a=hak.$('#DicAnchor');a.scrollTop=0,setTimeout(function(){for(var b=k&&k.map(function(a){return WordCard(a,{query:'*',editing:e})}),c=0;c<k.length;c++)a&&a.appendChild(b[c])},2)},1),h[0]?d.stocked?h.map(function(a){return WordCard(a,{query:'*',editing:e})}):div({class:'loader'}):div({style:'font-size: 20px; text-align: center; padding-top: 20px;'},'No results '+(f?'for '+f.toUpperCase():'yet'))}});hak.variables.scrollTop=0,APP.scrollEventFunctions.push(function(a){if(APP.playScrollFunctions){var b=a.scrollTop,c=hak.$('.BookList_sidescroller');c&&(hak.variables.scrollTop<b&&35<b?(c.style.top='-50px',c.style.opacity='0',hak.variables.scrolledDown=!0):(c.style.top='0px',c.style.opacity='1',hak.variables.scrolledDown=!1))}}),hak.variables.css+='\n\n\n.lightVertShadow {\n  -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n     -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n          box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n} \n\n.DicAnchor{\n  justify-content: center;\n  align-items: center;\n  display: flex;\n\tflex-direction: column;\n  right: 0px;\n\tleft: 0px;\n\ttop: 0px;\n\tbottom: 0px;\n\tpadding: 17px 10px 200px 10px;\n}\n\n.Book {\n\tpadding: 20px 5px 100px 5px;\n\tleft: 0;\n\tright: 0;\n\tz-index: -1;\n\tjustify-content: center;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n  align-items: center;\n}\n\n.BookItem {\n\tpadding: 12px 14px 12px 12px;\n\tborder-radius: 10px;\n  line-height: 40px;\n\ttext-align: center;\n  margin: 6px;\n  height: 40px;\n  font-size: 32px;\n  width: 50px;\n\tbackground-color: white;\n}\n\n.BookItem:hover {\n  cursor: pointer;\n  color: skyblue;\n}\n\n.BookList_sidescroller {\n\ttransition: 0.25s;\n\tposition: -webkit-sticky;\n\tposition: sticky;\n  background-color: white;\n  top: 0px;\n  margin-top: -48px;\n  padding: 48px 20px 0px 10px;\n  overflow-x: scroll;\n  white-space: nowrap;\n  display: flex;\n  z-index: 9;\n}\n\n';
'use strict';var WordOfTheDay=hak.Component({subscribe:[miscStore.subscribe('language'),dictionaryStore.subscribe()],Constructor:function Constructor(){},render:function render(){var a=this.shelf,b=new Date,c=170*b.getMonth(),d=b.getFullYear()-1950,e=b.getDate(),f=a.language.isMien?'mien':'english',g=a[f+'Entries'][c+e+d];return div({class:'StarPage'},p({class:'WordOfTheDay_text'},'Word of the Day'),g?WordCard(g,{query:'*',open:!0,editing:this.props.editing}):div({class:'WordCard'}))}});hak.addStyle(function(a){var b=450>a.width?a.width-40:360;return'\n.WordOfTheDay_text {\n\tfont-size: 26px; \n\tfont-weight: bold;\n\tcolor: #555; \n\tpadding: 30px 0px 10px 30px;\n\twidth: '+b+'px;\n}'}),hak.variables.css+='\n.WordOfTheDay_text_small {\n\tdisplay: flex;\n\tfont-size: 22px; \n\tfont-weight: bold;\n\tcolor: #555; \n\tpadding-left: 15px;\n\tpadding-top: 25px;\n}\n';
'use strict';var SearchBar=function(){var a=this,b=miscStore.getMethods().search.setQuery,c=miscStore.getData();hak.variables.scrollTop=document.documentElement.scrollTop;var d=div({class:'searchBar faintShadow',id:'searchBar'},input({id:'searchBarInput',class:'searchBarInput',placeholder:'Search',value:c.search.query,onsubmit:function onsubmit(a){console.log(a),a.blur()},onfocus:function onfocus(){hak.setParam('slide','1'),miscStore.getEntireStore().pageData.changePage('search')},oninput:function oninput(){b(hak.$('#searchBarInput').value)}}),button({class:'searchButton',onclick:function onclick(){var a=hak.$('#searchBarInput');a&&(a.value='',a.focus(),a.value=miscStore.getData().search.query)}},div({class:'searchIcon',onclick:function onclick(){}},tohtml('&#9906;')))),e=div({class:'searchFiller',id:'searchFiller'});return[e,d]},RecentSearchs=function(){return div({class:'RecentSearchs'},'Results will appear here')},SearchResults=hak.Component({subscribe:[miscStore.subscribe('search'),miscStore.subscribe('language'),starStore.subscribe('editing'),dictionaryStore.subscribe()],render:function render(){return div({id:'DicAnchorSearch',class:'DicAnchorSearch'},this.getResults())},getResults:function getResults(){var a=this.shelf,b=a.editing.editStatus,c=a.search.query.toLowerCase().trim(),d=a.language.isMien?'mien':'english',e=a[d+'Entries'],f=e&&e.length||0,g=[[],[],[]];if(!a.stocked&&c)return div({class:'loader'});if(!c)return RecentSearchs();for(var h=0;h<f;h++){if(e[h].word.toLowerCase().trim()===c){g[0].push(WordCard(e[h],{open:!0,query:c,editing:b}));continue}for(var i=e[h].word.split(','),j=0;j<i.length;j++){if(i[j].toLowerCase().trim()===c){g[1].push(WordCard(e[h],{open:!0,query:c,editing:b}));break}for(var k=i[j].split(' '),l=0;l<k.length;l++)if(k[l].toLowerCase().trim()===c){g[2].push(WordCard(e[h],{query:c,editing:b}));break}}}return g}}),Search=hak.Component({setQuery:function setQuery(a){this.setState({query:a})},render:function render(){return div({class:'SearchContainer'},SearchBar(),SearchResults())}});APP.scrollEventFunctions.push(function(a){if(APP.playScrollFunctions){var b=a.scrollTop,c=hak.$('#searchFiller'),d=hak.$('#searchBar');hak.variables.scrollTop<b&&40<b?(c&&(c.style.transition='0',c.style.opacity='0'),d&&(d.style.top='-20px',d.style.opacity='0.5'),hak.variables.scrolledDown=!0):(c&&(c.style.transition='0.2s',c.style.opacity='1'),d&&(d.style.top='70px',d.style.opacity='1'),hak.variables.scrolledDown=!1)}}),hak.addStyle(function(a){var b=450>a.width?a.width-32:358;return'\n\n\n.RecentSearchs {\n\twidth: '+b+'px;\n\ttext-align: center;\n\tpadding-top: 30px;\n\tfont-style: italic;\n\tcolor: #999;\n\tfont-size: 20px;\n}\n\n.searchBar {\n\ttransition: 0.25s;\n\tposition: sticky;\n\ttop: 70px;  \n\tborder-radius: 120px;\n\tbackground-color: white;\n\tpadding: none;\n\toverflow: hidden; \n\tdisplay: flex;\n\tjustify-content: center;\n\twidth: '+b+'px;\n\talign-self: center;\n\tz-index: 30;\n}\n\t\n.searchBarInput {\n\twidth: '+(b-80)+'px;\n  font-size: 26px;\n  border: none; \n  padding: 6px 4px 6px 6px;\n  outline: none;\n\tbackground-color: white;\n}\n\t\n'},'\n\n.searchFiller {\n\tposition: fixed; \n\twidth: 100%; \n\ttop: 0;\n\theight: \n\t95px; \n\tz-index: 2; \n\tbackground-color: '+STYLES.backgroundColor+';\n}\n\n.SearchContainer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  background-color: '+STYLES.backgroundColor+';\n}\n\t\n.searchButton {\n\tbackground-color: white;\n  font-size: 32px;\n  border: none; \n  padding: 0px 8px 0px 8px;\n  outline: none;\n\ttransition: 0.3s;\n}\n.searchButton:hover {\n\tcursor: pointer;\n\tcolor: skyblue;\n}\n\n\n.DicAnchorSearch{\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  right: 0px;\n  left: 0px;\n  padding: 40px 10px 200px 10px;\n  overflow: hidden;\n}\n');
'use strict';var Options=hak.Component({subscribe:[starStore.subscribe('editing')],render:function render(){return div({class:'flex-column',style:'padding-top: 40px;'},p({class:'WordOfTheDay_text'},'Settings'),this.renderOptions())},renderOptions:function renderOptions(){var a=this.shelf.editing.editStatus;return[div({class:'Options_switch WordCard faintShadow'},'Editing Mode',SmallButton({text:a?'on':'off',style:a?'background: '+STYLES.boldColor+'; color: white;':'background: #fff;'+'-webkit-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n        -moz-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n          box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);',onclick:this.shelf.editing.changeEditStatus}))]}});hak.variables.css+='\n\n.Options_switch {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 15px 15px 15px 20px;\n\tfont-size: 24px;\n\tcolor: #222;\n\tline-height: 40px;\n}\n\n';
'use strict';var Welcome=hak.Component({render:function render(){return div({class:'Welcome-container'},div({class:'WordCard faintShadow Welcome'},h4('Welcome to the'),h2('Iu Mien Dictionary!'),p({style:'font-style: italic; font-size: 14px; padding-top: 5px;'},'An app to help utilize Vicky\'s Mien dictionary spreadsheet more effectively'),br(),p(strong('Add this site to the home screen'),' to use offline.'),br(),p('Navigate around with the tab buttons below, and change the search language by hitting the button in the top right corner.'),p('Have fun!')))}});hak.variables.css+='\n.Welcome-container {\n\tposition: fixed;\n\tdisplay: flex; \n\tjustify-content: center; \n\talign-items: center; \n\tright: 0px;\n\ttop: 60px;\n\tleft: 0px; \n\tbottom: 60px; \n}\n\n.Welcome {\n\tpadding: 40px;\n\twidth: auto;\n\theight: auto;\n}\n\n\n';
'use strict';var EditPage=hak.Component({subscribe:[starStore.subscribe('editing'),miscStore.subscribe('language'),dictionaryStore.subscribe('editedEntries')],render:function render(){if(!this.shelf.editing.editStatus)return div();var a=div({class:'WordCard noSelect faintShadow ',hakAnimate:!0});a.appendChild(EditWordCard({callBack:function(b){a.style.height=b+50+'px'}}));var b=this.shelf,c=this.shelf.language.isMien?'Mien':'English';return div({class:'flex-column',style:'margin-top: 40px;'},p('Editing',{class:'WordOfTheDay_text'}),p('Add a new '+c+' word',{class:'WordOfTheDay_text_small'}),a,div({style:'height: 30px;'}),p('My edited words',{class:'WordOfTheDay_text_small'}),this.renderMyEditedWords(),div({style:'height: 140px;'}))},renderMyEditedWords:function renderMyEditedWords(){var a=this.shelf.editedEntries;return div({style:'display: flex; flex-direction: column; justify-content: center; align-items: center;'},a.list.map(function(b){return WordCard(b,{editing:!0,cancelEdit:function cancelEdit(){a.cancel(b)}})}).reverse())}});
'use strict';var StarPage=hak.Component({subscribe:[starStore.subscribe()],render:function render(){var a=div({class:'StarPage',style:'padding-bottom: 150px;'},this.renderSettingsButtons(),this.shelf.settings.showSettings?[Options(),EditPage()]:[WordOfTheDay({editing:this.shelf.editing.editStatus}),this.renderFavorites(),this.renderShare()]);return a},renderSettingsButtons:function renderSettingsButtons(){var a=this.shelf.settings;return div({class:'renderSettingsButtons_container'},PageSelectorButtons({entries:[['Favorites ',div({style:'margin-left: 10px; font-size: 22px;'},tohtml('&#9733;'))],div({style:'display: flex; padding-top: 2px;'},'Settings ',img({src:'images/gear.png',width:'28px',height:'28px',style:'margin: -3px 0px 0px 10px ;'}))],selected:a.showSettings||0,onclick:function onclick(b,c){return a.changePage(b,c)}}))},renderFavorites:function renderFavorites(){var a=this.shelf.favorites.idList,b=this.shelf.editing.editStatus,c=[p({class:'WordOfTheDay_text'},'My Saved Words')],d=c.concat(a[0]?this.shelf.favorites.getFavorites().map(function(a){return WordCard(a,{open:'true',editing:b})}).reverse():[div({class:'RecentSearchs'},'Your saved words will appear here, simply hit the star to save a word')]);return d},renderShare:function renderShare(){return tohtml('')}});hak.addStyle(function(a){450>a.width?a.width-36:360;return'\n\n\n.StarPage {\n\tpadding: 40px 0px 10px 0px; \n\tdisplay: flex; \n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.shareContainer {\n\tdisplay: flex;\n\tjustify-content: space-around;\t\n}\n\n.shareChild span {\n\tpadding: 10px 30px 10px 30px;\n\twidth: 40px;\n\theight: 40px;\n}\n\n.FavoritesList {\n\tpadding: 60px 0px 200px 0px; \n\tjustify-content: center;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.renderSettingsButtons_container {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: -16px 0px -18px 0px;\n}\n'});
'use strict';function Header(){var a=hak.K({subscribe:miscStore.subscribe('language')},function(){var a=this,b=this.shelf.language.isMien?'Mien':'En';return window.HeaderChangeLang=function(){a.shelf.language.changeLanguage()},SmallButton({text:strong(b),onclick:a.shelf.language.changeLanguage,toggle:!0,style:'height: 36px; line-height: 36px; width: 60px; transition:0;',onStyle:'width: 50px;',isOn:!a.shelf.language.isMien})});return[div({class:'Header lightShadow',id:'Header',style:'background:'+STYLES.menuBarColor+';'},h1('Iu Mien Dictionary',{style:'font-weight: bold;'}),div({class:'flex-row'},TabBar(),a)),div({style:'left: 0; right: 0; height: 48px; '})]}var TabBar=hak.Component({subscribe:[miscStore.subscribe('book'),miscStore.subscribe('search'),miscStore.subscribe('pageData')],render:function render(){var a=this,b=this.shelf.book,c=this.shelf.pageData,d=c.selectedPage,e=c.changePage,f=this.shelf.search,g=500>hak.screenSize.width,h='color: '+STYLES.mainColor+'; background: white;';return div({class:'TabBar lightShadow',id:g?'Tab_Bar_hiding':''},div({class:'tabButton',style:'book'===d?h:'',onclick:function onclick(){-1<window.location.hash.indexOf('book')?(hak.setParam('letter',!1,!0),window.onpopstate()):(router.linkTo('home/book'),e('book'))}},strong('A-Z')),div({class:'tabButton',style:'search'===d?h:'',onclick:function onclick(){if(-1<window.location.hash.indexOf('search')){var a=hak.$('#searchBarInput');a&&(a.value=''),a&&a.focus(),a&&(a.value=f.query)}else router.linkTo('home/search'),e('search')}},div({class:'searchIcon',style:'padding-left: 2px;'},tohtml('&#9906;'))),div({class:'tabButton',style:'star'===d?h:'',onclick:function onclick(){router.linkTo('home/star'),e('star')}},div({style:'font-size: 24px;'},tohtml('&#9733;'))))}}),Home=hak.Component({render:function render(){var a=this,b=div({class:'HomePage',id:'HomePage'},Header(),this.renderRoutes());return b.addEventListener('scroll',function onscroll(a){APP.scrollEventFunctions.forEach(function(b){b(a.target)}),hak.variables.scrollTop=a.target.scrollTop},{passive:!0}),b}});hak.addStyle(function(a){var b=600>a.width,c=hak.$('.TabBar');return c&&(c.id=b?'Tab_Bar_hiding':''),b?'':'\n.TabBar {\n\tposition: relative;\n\twidth: auto;\n\tmargin-right: 10px;\n\t-webkit-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.30);\n     -moz-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.30);\n\t\t\t\t\tbox-shadow: 0px 0px 0px 0px rgba(0,0,0,0.29);\n}\n.tabButton {\n\twidth: 68px;\n\theight: 47px;\n\tcolor: white;\n\tbackground: '+STYLES.mainColor+';\n\tmargin: -3px 0px -3px 0px;\n\t\n}\n'}),hak.variables.css+='\n\n.Swipe_ {\n\tmargin-top: -12px;\n}\n\n.HomePage {\n  left: 0;\n  bottom: 0;\n  right: 0;\n\ttop: 0;\n\tposition: absolute;\n\toverflow: scroll;\n}';
'use strict';var router=hak.Router('home/book');router.addRoutes(['home',Home],['star',StarPage],['book',Book],['welcome',Welcome],['search',Search]),router.addMiddleware(function(a,b){var c=hak.$('#HomePage')||hak.El('div')(),d=c.scrollTop||0,e=a[a.indexOf('home')+1],f=b[b.indexOf('home')+1];APP.routes[e]||(APP.routes[e]={}),APP.routes[f]||(APP.routes[f]={}),APP.playScrollFunctions=!1,APP.routes[e].scroll=d,setTimeout(function(){c&&(c.scrollTop=APP.routes[f].scroll||0)},1),setTimeout(function(){var a=b[b.indexOf('home')+1];c&&(c.scrollTop=APP.routes[a].scroll||0)},80),setTimeout(function(){APP.playScrollFunctions=!0},300)});
'use strict';hak.addStyle(function(a){var b=500>a.width?0:(a.width-500)/2;return'\n.horizontal-filler-desktop {\n  width: '+b+'px;\n  flex: 0.01;\n  display: '+(b?'block':'none')+';\n  position: '+(b?'relative':'fixed')+';\n}\n'}),hak.addStyle(hak.variables.css+('\n\n* {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\nbody {\n  background: '+STYLES.backgroundColor+';\n}\n\n.Header {\n  font-weight: bold;\n}\n\n.flex-column {\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center; \n}\n\n.flex-row {\n  display: flex;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n}\n\n.swipe {\n  overflow: hidden;\n  visibility: hidden;\n  position: relative;\n}\n.swipe-wrap {\n  overflow: hidden;\n  position: relative;\n}\n.swipe-wrap > div {\n  float: left;\n  width: 100%;\n  height: 100vh;\n  overflow-x: scroll;\n  position: relative;\n}\n\n.noSelect {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.mediumShadow {\n  -webkit-box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n     -moz-box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n          box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n}\n\n.heavyShadow {\n  -webkit-box-shadow: 0px 0px 18px -1px rgba(0,0,0,0.8);\n  -moz-box-shadow: 0px 0px 18px -1px rgba(0,0,0,0.8);\n  box-shadow: 0px 0px 18px -1px rgba(0,0,0,0.8);\n}\n\n.bottomBorder {\n  border-bottom: 2px solid black;\n}\n\n.flat {\n  -webkit-box-shadow: 0px 0px 0px 0px white;\n     -moz-box-shadow: 0px 0px 0px 0px white;\n          box-shadow: 0px 0px 0px 0px white;\n}\n\n.boldFont {font-weight: bold;}\n')),hak.mount(router.render(),'#root',!0);
