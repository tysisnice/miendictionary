"use strict";!function(){function t(t,n){return(e||(e=new Promise(function(t,e){var n=indexedDB.open("keyval-store",1);n.onerror=function(){e(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore("keyval")},n.onsuccess=function(){t(n.result)}})),e).then(function(e){return new Promise(function(i,r){var o=e.transaction("keyval",t);o.oncomplete=function(){i()},o.onerror=function(){r(o.error)},n(o.objectStore("keyval"))})})}var e,n={get:function(e){var n;return t("readonly",function(t){n=t.get(e)}).then(function(){return n.result})},set:function(e,n){return t("readwrite",function(t){t.put(n,e)})},delete:function(e){return t("readwrite",function(t){t.delete(e)})},clear:function(){return t("readwrite",function(t){t.clear()})},keys:function(){var e=[];return t("readonly",function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(function(){return e})}};"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("idbKeyval",[],function(){return n}):self.idbKeyval=n}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}var e=t();window.addEventListener("resize",function(){e=t()});var n,i,r=!1,o=[],s=[];function a(t,e,n){if("string"==typeof t){var i=document.createElement("div");i.innerHTML=t,t=i}var r=p(e=e||"#root");for(r||(r=u("div")(),document.body.appendChild(r));n&&r.firstChild;)r.removeChild(r.firstChild);r.appendChild(t)}function d(t){return t&&"object"===(void 0===t?"undefined":_typeof(t))&&!Array.isArray(t)}function l(){var t=arguments,e=t[0],n=1;for(e==={}&&(e=Object.assign({},t[1]),n++);n<t.length;n++)for(var i in t[n])t[n].hasOwnProperty(i)&&(d(t[n][i])&&d(e[i])?e[i]=l(e[i],t[n][i]):e[i]=t[n][i]);return e}function c(t){return JSON.parse(JSON.stringify(t))}var h={fetched:0,htmlTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blink","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","menu","menuitem","meta","meter","multicol","nav","nobr","noembed","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","xmp>"]};function u(t){return function(){var e=arguments,n=document.createElement(t);return function t(e){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(Array.isArray(o)&&0!==o.length)t(o);else if(o instanceof Node)n.appendChild(o);else if("string"!=typeof o){if("object"===(void 0===o?"undefined":_typeof(o)))for(var s in o)"on"!==s.substring(0,2)||"function"!=typeof o[s]?"class"===s&&n.hasAttribute("class")?n.className+=" "+s:o.hasOwnProperty(s)&&n.setAttribute(""+s,o[s]):n.addEventListener(s.substring(2),o[s]);o||n.appendChild(document.createElement("span"))}else{var a=document.createElement("span");a.innerText+=o,n.appendChild(a)}}}(e),n}}function p(t){return document.querySelector(t)}function g(){for(var t=h.htmlTags,e={},n=0,i=t.length;n<i;n++)e[t[n]]=u(t[n]);return e.style=function(t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),e},e.tohtml=function(t){var n=e.div();return n.innerHTML=t,n},e}function x(t){return t.hasOwnProperty("renderChildren")||(t.renderChildren=function(t){return this.children?(t&&(this.children=this.children.slice(0,t)),u("div")({style:"margin: 0; padding: 0;"},this.children.map(function(t,e){return t}))):null}),t.hasOwnProperty("renderRoutes")||(t.renderRoutes=function(){return this.hakRouteNode||u("div")()}),function(){var e=new function(e){this.children=[],this.props={style:""};for(var n=this,i=0,r=e.length;i<r;i++)if(e[i]instanceof Node)this.children.push(e[i]);else if("string"!=typeof e[i]){if("object"===_typeof(e[i]))for(var o in e[i])e[i].hasOwnProperty(o)&&(this.props[o]=e[i][o])}else{var s=document.createElement("span");s.innerText+=e[i],this.children.push(s)}for(var a in t)t.hasOwnProperty(a)&&("function"==typeof t[a]?this[a]=t[a].bind(this):this[a]=t[a]);function d(t){n.shelf&&(n.shelf.hakCustomers=!1);var e,i=n.render();return"string"==typeof i?(e=u("div")({id:n.id})).innerHTML=i:e=u("div")({id:n.id},i),setTimeout(function(){t||document.body.contains(n.node)||("2"===n.hakRouteNodeId?n.nodeActive="r":n.nodeActive=!1),n.componentDidRender&&n.componentDidRender()},10),e}this.state=this.state||{},this.id=this.props.id||this.state.id||"hakComponent_"+Math.random(),this.updateKey=0,this.lastUpdate=0,this.update=function(){var t=Math.random();n.updateKey=t,n.lastUpdate=t};var c=function(t){return!!n.nodeActive&&("r"===n.nodeActive?(n.shelf=l(n.shelf,t),n.updateKey="needs updating",!1):(n.shelf=l(n.shelf,t),v(n.node,d()),n.update(),!0))};if(this.setState=function(t){this.state=l({},this.state,t),v(this.node,d()),n.update()}.bind(this),this.connectCustomer=function(t){var e=t(this.id,c),n=e.actions;this.shelf=l(this.shelf||{},e.shelf);for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])},this.subscribeNew=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.connectCustomer(t[e]);else this.connectCustomer(t)},this.subscribe)if(Array.isArray(this.subscribe))for(i=0;i<this.subscribe.length;i++)this.connectCustomer(this.subscribe[i]);else this.connectCustomer(this.subscribe);if(this.props.subscribe)if(Array.isArray(this.props.subscribe))for(i=0;i<this.props.subscribe.length;i++)this.connectCustomer(this.props.subscribe[i]);else this.connectCustomer(this.props.subscribe);this.props.hakRouteInit&&(this.hakRouteNodeId="Route-"+this.id,this.hakRouteNode=u("div")({id:this.hakRouteNodeId}),this.props.hakRouteInit(this.hakRouteNode)),this.Constructor&&this.Constructor(),this.render||(this.render=function(){return u("div")()}),this.nodeActive=!0,this.node=d(!0)}(arguments);return e.componentDidMount&&setTimeout(e.componentDidMount,10),e.node}}function y(t,e){var n={},i=e.className,r=e.cloneNode(!0);r.style.opacity="0",r.style.position="fixed",document.body.appendChild(r);for(var o in e.style)"transition"!==o&&(n[o]=e.style[o]);n.height=r.offsetHeight+"px",n.width=r.offsetWidth+"px";for(var o in t.style)"transition"!==o&&"parentRule"!==o&&"length"!==o&&(e.style[o]=t.style[o]);e.className=t.className,e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.parentElement.replaceChild(e.cloneNode(!0),e),t.parentElement.replaceChild(e,t),setTimeout(function(){e.style.transition=e.style.transition||t.style.transition||"0.3s";for(var o in n)"transition"!==o&&"parentRule"!==o&&"length"!==o&&(e.style[o]=n[o]);e.style.height=n.height,e.style.width=n.width,e.className=i,document.body.removeChild(r)},1)}function m(t,e,n){e.getAttribute("hakAnimate");var i,r=e.cloneNode(!0);n?t.removeChild(e):setTimeout(function(){i=c(r),r.style.opacity="0",r.style.position="fixed",document.body.appendChild(r),e.style.transition="0s",e.style.height="0px",e.style.width="0px",e.style.opacity="0",t.appendChild(e),setTimeout(function(){e.style.transition=i.transition||"0.25s",i.height=e.offsetHeight,i.width=e.offsetWidth,e.style=l(e.style,i),document.body.removeChild(r)},1)},1)}function v(t,e){if(!t)return!1;var n,i,r=t.hasAttribute("hakAnimate"),o=!1;if(t.hasChildNodes()){if(!t.cloneNode(!1).isEqualNode(e.cloneNode(!1)))return r?y(t,e):(e.parentElement.replaceChild(e.cloneNode(!0),e),t.parentElement.replaceChild(e,t)),!0;if(e.hasChildNodes()){for(var s=0;s<t.children.length;s++)if(e.children[s])v(t.children[s],e.children[s])&&r&&(o=!0);else{for(;t.children[s];)t.children[s].hasAttribute("hakAnimate")?m(t,t.children[s],!0):t.removeChild(t.children[s]);r&&(o=!0)}for(var a=t.children.length;a<e.children.length;a++){var d=e.children[a];e.replaceChild(d.cloneNode(!0),d),d.hasAttribute("hakAnimate")?m(t,d):t.appendChild(d),a===e.children.length-1&&r&&(o=!0)}}else{for(;t.firstChild;)t.firstChild.hakAnimate?m(t,t.firstChild,!0):t.removeChild(t.firstChild);r&&(o=!0)}}return o&&(i=e,(n=t).style.height=n.offsetHeight,n.style.width=n.offsetWidth,n.style.maxHeight=n.offsetHeight,n.style.maxWidth=n.offsetWidth,n.style.minHeight=n.offsetHeight,n.style.minWidth=n.offsetWidth,setTimeout(function(){var t=i.cloneNode(!0),e=(n.style.transition,{});for(var r in t.style)e[r]=t.style[r];t.style.opacity="0",t.style.position="fixed",document.body.appendChild(t),setTimeout(function(){e.height=t.offsetHeight,e.width=t.offsetWidth;for(var i in e)e.hasOwnProperty(i)&&"parentRule"!==i&&"length"!==i&&(n.style[i]=e[i]);n.style.height=t.offsetHeight,n.style.width=t.offsetWidth,document.body.removeChild(t)},1)},1)),!t.isEqualNode(e)&&(r?y(t,e):(e.parentElement.replaceChild(e.cloneNode(!0),e),t.parentElement.replaceChild(e,t)),!0)}function b(t){return t?window.location.pathname.split("/").map(function(t){return""===t?"/":t}):window.location.hash.split("?")[0].split("/").filter(function(t){return""!==t})}function w(t){var e=window.location.href.split("?"),n={};return e[1]&&e[1].split("&").forEach(function(t){var e=t.split("=");e[1]&&(n[e[0]]=e[1])}),t?n[t]:n}self.hak={Router:function(t,e){var n=!e;if(!window.location.hash&&n){var i=window.location.href.split("?"),r=i[1],o=r?"?"+r:"";t?window.history.replaceState(null,null,i[0]+"#/"+t+o):window.history.replaceState(null,null,i[0]+"#/home"+o)}var s=b(e),a=s,d=[],l=[],c={},p={},f=!1,g=[],x=u("div")({id:"hakRouter"});function y(t){var e;return{node:t.component({hakRouteInit:function(t){e=t}}),rootNode:e}}function m(t,n){function i(t){return d.indexOf(t)>-1}a=s,s=b(e),!n&&v();for(var r=!1,o=a.filter(i),h=s.filter(i),u=0;u<h.length;u++){if(!f||r||o[u]!==h[u]||t===h[u]){r=!0;for(var g=y(c[h[u]]),m=0===u?x:l[u-1];m.firstChild;)m.removeChild(m.firstChild);m.appendChild(g.node),p[s[u]]&&p[s[u]](),l[u]=g.rootNode}for(;o[u+1]&&l[u+1]&&l[u+1].firstChild;)l[u+1].removeChild(l[u+1].firstChild)}}function v(t,e){for(var n=0;n<g.length;n++)g[n](a,s)}var w=window.onpopstate;return window.onpopstate=function(){m(),w&&w()},{getRoutes:function(){return c},linkTo:function(t,e){t="#"===t[0]?t:"/"===t[1]?"#"+t:"#/"+t;var n="?"+window.location.href.split("?")[1],i=null;if(console.log(t,window.location.hash),t.split("?")[1])if(i=t.split("?")[1],t=t.split("?")[0],n){i=i.split("&");for(var r=0;r<i.length;r++)n.match(i[r].split("=")[0]+"=")?n=n.replace(n.split(i[r].split("=")[0]+"=")[1].split("&")[0],i[r].split("=")[1]):n+="&"+i[r]}else n=i;(t="?"!==(n=n.replace("undefined&",""))&&"?undefined"!==n?t+n:t)!==window.location.hash&&(history.pushState(null,null,t),m()),e&&e()},render:function(){if(v(),h.fetched>0){console.log("fetched");var t=setInterval(function(){0===h.fetched&&(function(){for(var t=b(e).reverse(),n=0;n<t.length;n++)p[t[n]]&&p[t[n]]()}(),v(),clearInterval(t))},50)}return x=u("div")({id:"hakRouter"}),m(null,!0),f=!0,x},addMiddleware:function(t){g.push(t)},addRoute:function(t,n,i,r){"/"===t&&(e=!0),c[t]={},c[t].component=n,i&&(p[t]=i),d.push(t),!r&&f&&m()},addRoutes:function(){for(var t=arguments,e=0;e<t.length;e++)this.addRoute(t[e][0],t[e][1],t[e][2],!0);f&&m()},add:function(t){Array.isArray(t)?this.addRoutes(arguments):this.addRoute(arguments)}}},Store:function(t,e,n){var i=t||{Constructor:function(){console.log("No initial data given")}},r=!1,o={},s={},a=!1,c=function(){};function u(t,e,n,r){for(var o in t)t.hasOwnProperty(o)&&("object"!==_typeof(t[o])||Array.isArray(t[o])||u(t[o]),"function"==typeof t[o]&&(t[o]=t[o].bind(t)));if(t.methodsAdded&&!n)return!1;r&&(t.hakRootShelf=!0),t.methodsAdded=!0,t.stockStore=p,t.stockShelf=function(t){if(this!==(t=l({},this,t))){for(var e in t)t.hasOwnProperty(e)&&"shelf_id"!==e&&(this[e]=t[e]);n=this.shelf_id,function t(e,n){if("object"===(void 0===e?"undefined":_typeof(e))){if(e.shelf_id===n)return e.updateCustomers(!0),!0;for(var i in e)e.hasOwnProperty(i)&&t(e[i],n)&&e.hasOwnProperty("updateCustomers")&&e.updateCustomers(!1)}return!1}(i,n),a||(a=!0,setTimeout(c,301))}var n}.bind(t),t.updateCustomers=function(t){for(var e=0;e<this.hakCustomers.length;e++)this.hakCustomers[e].buyShelf&&this.hakCustomers[e].buyShelf(this);if(t)for(var n in this)this.hasOwnProperty(n)&&d(this[n])&&this[n].hasOwnProperty("updateCustomers")&&this[n].updateCustomers(!0)}.bind(t),t.addCustomer=function(t){this.hakCustomers.push(t)}.bind(t),t.shelf_id=t.shelf_id||"hakShelf"+Math.random(),t.hakCustomers=n?e||[]:t.hakCustomers||e||[],t.hasOwnProperty("Constructor")&&t.Constructor()}function p(t){i.stockShelf(t)}function f(t){i.stockStore(t),o=l(o,t)}function g(t,e){if(!e)return t;if("string"==typeof e)return t[e];if(Array.isArray(e)){for(var n=t,i=0;i<e.length;i++)n[e[i]]||(n[e[i]]={}),n=n[e[i]];return n}}function x(){var t={};return function t(e,n){if(Array.isArray(n)&&n.forEach(function(n,i){if("object"===(void 0===n?"undefined":_typeof(n)))return e[i]=Array.isArray(n)?[]:{},void t(e[i],n);e[i]="function"!=typeof n?n:null}),!n.hasOwnProperty("privateShelf")||!n.privateShelf)for(var i in n)if(n.hasOwnProperty(i)){if("hakCustomers"===i||"shelf_id"===i||"methodsAdded"===i)continue;if("object"===_typeof(n[i])){e[i]=Array.isArray(n[i])?[]:{},t(e[i],n[i]);continue}"function"!=typeof n[i]&&(e[i]=n[i])}}(t,i),t}if(e)if(idbKeyval&&i.useIndexDB&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB))h.fetched++,c=function(){idbKeyval.set(e,x()),a=!1},idbKeyval.get(e).then(function(t){if(!r)if(t){var e=Object.assign(t,o);i.stockShelf(e)}else c();h.fetched--});else{c=function(){localStorage.setItem(e,JSON.stringify(x())),a=!1};var y=JSON.parse(localStorage.getItem(e)||"{}");y&&l(i,y)}return n&&window.fetch&&fetch(n).then(function(t){r=!0,i.stockShelf(t),c()}),u(i,[],!0,!0),{setParams:function(t){function e(){var t,e,n;f((t=s,e=w(),function t(e,n){for(var i in n)n.hasOwnProperty(i)&&("string"==typeof n[i]?e[i]=n[i].substring(0):(e[i]={},t(e[i],n[i])))}(n={},t),function t(n){if("object"===(void 0===n?"undefined":_typeof(n)))for(var i in n)n.hasOwnProperty(i)&&("object"===_typeof(n[i])?n[i]=t(n[i]):n[i]=e[n[i]]||!1);return n}(n))),console.log("works")}s=l({},s,t),e();var n=window.onpopstate;window.onpopstate=function(){n&&n(),e()}},updated:r,getMethods:function(){var t={};return function t(e,n){for(var i in n)n.hasOwnProperty(i)&&(d(n[i])?(e[i]={},t(e[i],n[i])):"function"==typeof n[i]&&(e[i]=n[i]))}(t,i),t},getData:x,getEntireStore:function(){return i},stockInShelf:function(){var t={},e=arguments,n=[];for(var r in e)d(e[r])?t=l(t,e[r]):n.push[e[r]];g(i,n).stockShelf(t)},stockStore:p,forceStockStore:f,getShelf:function(t){return l({},g(i,t))},subscribe:function(){var t=arguments;return function(e,n){for(var r={shelf:{},actions:{stockStore:p}},o=0;o<t.length;o++)if(Array.isArray(t[o])){var s=g(i,t[o]);u(s),r.shelf[t[o][t[o].length-1]]=s,s.addCustomer({id:e,buyShelf:n.bind(s)})}else u(i[t[o]]),r.shelf[t[o]]=i[t[o]],i[t[o]].addCustomer({id:e,buyShelf:n.bind(s)});return 0===t.length&&(r.shelf=i,i.addCustomer({id:e,buyShelf:n.bind(i)})),r}}}},Component:x,tags:g(),El:u,K:function(){for(var t=arguments,e={},n=0;n<t.length;n++)"object"!==_typeof(t[n])||Array.isArray(t[n])||l(e,t[n]),"function"==typeof t[n]&&(e.render=t[n]);return x(e)()},addTags:g,mount:a,$:p,addAudio:function(t,e,n,i){var r=new Audio(t+".mp3");return r.setAttribute("id",(e||"")+t),a(r,"audio",n),i||(r.preload="auto"),r},isUrl:function(t){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)},merge:l,clone:c,getUrlPath:b,replaceNodes:v,variables:h,getScreenSize:t,addStyle:function(){function t(){var t="";for(o.forEach(function(n){t+=n(e)});i.firstChild;)i.removeChild(i.firstChild);i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}if(!r){n=document.createElement("style"),i=document.createElement("style"),n.setAttribute("type","text/css"),i.setAttribute("type","text/css");var a=document.querySelector("head");a.appendChild(n),a.appendChild(i),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),s.push(t),r=!0}for(var d=arguments,l=0;l<d.length;l++)"function"==typeof d[l]&&(o.push(d[l]),i.styleSheet?i.styleSheet.cssText+=d[l](e):i.appendChild(document.createTextNode(d[l](e)))),"string"==typeof d[l]&&(n.styleSheet?n.styleSheet.cssText+=d[l]:n.appendChild(document.createTextNode(d[l])))},updateStyles:function(){newStylesFunctions.forEach(function(){f()})},getParams:w,setParam:function(t,e,n){var i=w(),r=[];e?i[t]=e:t&&delete i[t];for(var o in i)i.hasOwnProperty(o)&&i[o]&&r.push(o+"="+i[o]);var s=r[0]?"?"+r.join("&"):"";s=window.location.href.split("?")[0]+s,window.history[n?"pushState":"replaceState"](null,null,s)},screenSize:e}}();for(var prop in hak.tags)hak.tags.hasOwnProperty(prop)&&(window[prop]=hak.tags[prop]);hak.variables.css="",hak.variables.scrollTop=0,hak.variables.scrolledDown=!1;var APP_VERSION=7,STYLES={menuBarColor:"dodgerblue",mainColor:"dodgerblue",secondaryColor:"deepskyblue",thirdColor:"skyblue",boldColor:"dodgerblue",hoverColor:"lightskyblue",backgroundColor:"#fbfbfb",cardColor:"white",faveColor:"#edc500",underStatedColor:"#e9e9e9"},APP={routes:{},scrollEventFunctions:[],playScrollFunctions:!0},dictionaryStore=hak.Store({useIndexDB:!0,mienEntries:[{}],englishEntries:[{}],loaded:!1,stocked:!1,sortAlphabetically:function(t,e){return(t=t.word.toLowerCase())<(e=e.word.toLowerCase())?-1:t>e?1:0},editEntry:function(t,e){var n,i=e?"mien":"english",r=(t=t,!0),o=this[i+"Entries"].map(function(e){return e._id===t._id?(n=hak.clone(e),r=!1,t):e});r&&o.push(t),o.sort(this.sortAlphabetically);var s=this;setTimeout(function(){n||((n=hak.clone(t)).isNewWord=!0),s.editedEntries.add(t,n)},30);var a={stocked:!0};a[i+"Entries"]=o,this.stockStore(a)},editedEntries:{oldEntries:[],list:[],add:function(t,e){var n=!0,i=this.list.filter(function(e,n){return e._id!==t._id}),r=this.oldEntries.map(function(t){return e._id===t._id&&(n=!1),t});n&&r.push(e),i.push(t),this.stockShelf({list:i,oldEntries:r})},cancel:function(t){function e(t){return a._id===t._id?a:t}function n(t){return t._id!==a._id}console.log(t);var i,r,o=dictionaryStore.getEntireStore(),s=(t=t,this.list.filter(function(e){return e._id!==t._id})),a=this.oldEntries.filter(function(e){return e._id===t._id})[0]||{_id:Math.random()};a.isNewWord?(i=o.mienEntries.filter(n),r=o.englishEntries.filter(n)):(i=o.mienEntries.map(e),r=o.englishEntries.map(e)),r.sort(o.sortAlphabetically),i.sort(o.sortAlphabetically);var d={mienEntries:i,englishEntries:r,editedEntries:{list:s}};this.stockStore(d)}}},"MienDictionaryStore_v"+APP_VERSION),miscInitData={pageData:{selectedPage:"",changePage:function(t){this.stockShelf({selectedPage:t})}},book:{selectedLetter:"",changeSelectedLetter:function(t){this.stockShelf({selectedLetter:t}),hak.setParam("letter",t,!0)}},language:{isMien:!0,changeLanguage:function(){this.stockShelf({isMien:!this.isMien}),hak.setParam("lang",this.isMien?"mien":"",!0)}},featureCard:{id:"",changeFeatureCard:function(t){this.stockShelf({id:t})}},search:{query:"",setQuery:function(t){this.stockShelf({query:t})}},test:{test2:{test3:{x:"hello"}}}},miscStore=hak.Store(miscInitData,"MienMiscStore_v"+APP_VERSION);miscStore.setParams({language:{isMien:"lang"},book:{selectedLetter:"letter"}});var startingPage=window.location.hash.indexOf("search")>-1?"search":window.location.hash.indexOf("book")>-1?"book":window.location.hash.indexOf("star")>-1?"star":"";miscStore.stockStore({pageData:{selectedPage:startingPage}});var starInitData={favorites:{list:[],idList:[],addToFavorites:function(t,e){e?this.idList=this.idList.filter(function(e){return t._id!==e}):this.idList.push(t._id),this.stockShelf({idList:this.idList})},getFavorites:function(){for(var t=[],e=dictionaryStore.getEntireStore(),n=e.englishEntries||[],i=e.mienEntries||[],r=0;r<n.length;r++)this.idList.indexOf(n[r]._id)>-1&&(t[this.idList.indexOf(n[r]._id)]=n[r]);for(r=0;r<i.length;r++)this.idList.indexOf(i[r]._id)>-1&&(t[this.idList.indexOf(i[r]._id)]=i[r]);return t}},settings:{showSettings:!1,changePage:function(t,e){this.stockShelf({showSettings:e})}},editing:{editStatus:!1,topEditor:!1,wordsEdited:{},wordsAdded:{},changeEditStatus:function(){this.stockShelf({editStatus:!this.editStatus})}}},starStore=hak.Store(starInitData,"MienStarStore_v"+APP_VERSION),SmallButton=function(t){var e=t.onStyle||"",n=t.offStyle||"",i=t.toggle||!1,r=t.isOn||!1,o=t.style||"",s="SmallButton "+t.class||"",a="faintShadow "+s,d="fainterShadow "+s;var l=div({class:r?d:a,style:o+(r?e:n),onclick:function(){i&&(r=!r,l.style=o+(r?e:n),l.className=r?d:a),t.onclick&&"function"==typeof t.onclick&&t.onclick()}},t.text||"");return t.hakAnimate&&l.setAttribute("hakAnimate",t.hakAnimate),l};hak.addStyle("\n.SmallButton {\n\tcolor: #555;\n  background: white;\n  user-select: none;\n  height: 40px;\n  width: 60px;\n  border-radius: 4px;\n  text-align: center;\n  align-items: center;\n  line-height: 40px;\n  transition: 0.25s;\n}\n\n.SmallButton:hover {\n\tcursor: pointer;\n}\n");var OverlayContainer=hak.Component({render:function(){this.props.view;return div({style:"OverlayContainer"},div({class:"OverlayContainer_shadow",onclick:this.triggerOverlay}),div({class:"OverlayContainer_child"},this.children))}});hak.addStyle("\n\n.OverlayContainer {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: 0.3s;\n}\n\n.OverlayContainer_shadow {\n\ttransition: 0.25s;\n\tposition: fixed;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\tbottom: 0;\n\tz-index: 101;\n\tbackground: black;\n\topacity: 0.5;\n}\n\n.OverlayContainer_child {\n\tz-index: 102;\n\tdisplay: flex;\n}\t\n\n.OC_inView {\n\t\n}\n\n");var PageSelectorButtons=function(t){var e="color: white; background: "+STYLES.secondaryColor+";";return div({class:"PageSelectorButtons fainterShadow flex-row"},t.entries.map(function(n,i){var r=t.selected===n||t.selected===i?e:"";return div({class:"PageSelectorButtons_button flex-row",style:r,onclick:function(){return t.onclick(n,i)}},n)}))};hak.addStyle(function(t){var e=t.width<450?t.width-78:308;return"\n\t.PageSelectorButtons {\n\t\tborder-radius: 70px; \n\t\twidth: "+e+"px;\n\t\theight: 48px;\n\t\toverflow: hidden;\n\t}\n\n\t.PageSelectorButtons_button {\n\t\tbackground: white;\n\t\tfont-size: 20px;\n\t\tcolor: #444;\n\t\twidth: "+e/2+"px;\n\t\talign-items: center;\n\t\theight: 48px;\t\n\t\tpadding-top: 2px;\n\t}\n"});var EditWordCard=hak.Component({Constructor:function(){this.word=this.props.word,this.resetState()},componentDidRender:function(){this.props.callBack&&this.props.callBack(this.node.offsetHeight)},resetState:function(){var t=this.word;this.fresh=!0,this.state={word:t||{_id:!1,lastEdited:"New Word"},wordPlace:t?t.word:"Type your word here",clarifyerPlace:t?t.clarifyer:"Type up a description and/or example sentences of your word",otherWordPlace:"Definition",otherClarifyer:"A short description and/or example of this definition",otherWords:t?t.otherWords.slice(0):[],savingEdit:!1},this.data={word:t?t.word.substring(0):"",clarifyer:t?t.clarifyer.substring(0):"",otherWords:t?t.otherWords.map(function(t,e){return{word:t.word?t.word.substring(0):"",clarifyer:t.clarifyer?t.clarifyer.substring(0):""}}):[]}},getStyles:function(){return{deleteButton:"color: white;\n\t\t\t\tbackground: tomato; \n\t\t\t\theight: 30px; \n\t\t\t\twidth: 70px; \n\t\t\t\tfloat: right;\n\t\t\t\tmarigin: 13px 3px 5px 0px; \n\t\t\t\tfont-size: 18px;\n\t\t\t\tline-height: 28px; \n\t\t\t\tfont-weight: normal;",addDefButton:"background: "+STYLES.mainColor+";\n\t\t\t\tcolor: white; \n\t\t\t\twidth: auto; \n\t\t\t\tfont-size: 22px;\n\t\t\t\theight: 44px;\n\t\t\t\tline-height: 44px;\n\t\t\t\tmargin: 15px 24px 20px 24px;",buttonRow:"display: flex;\n\t\t\t\twidth: auto;\n\t\t\t\tmargin: 20px 5px 5px 5px;\n\t\t\t\tjustify-content: space-around; ",divider:"width: auto; \n\t\t\t\theight: 5px;\n\t\t\t\tbackground: "+STYLES.backgroundColor+";\n\t\t\t\tmargin: 30px -26px 20px -26px;",confirmButton:"width: 160px;\n\t\t\t\tcolor: white;\n\t\t\t\tbackground: "+STYLES.mainColor+";",clarifyerTextarea:"margin-bottom: 0px;",otherWordsContainer:"margin-bottom: 60px;"}},render:function(){this.style=this.getStyles();var t=this,e=this.data,n=this.state,i=(this.setState,textarea({data:e.word,rows:n.wordPlace.length>18?2:1,class:"wordTitle WordCard_textarea",style:"font-size: 26px; font-weight: normal;",placeholder:n.wordPlace,oninput:function(e){t.editWord(e,"word")}})),r=textarea({data:e.clarifyer,rows:3,style:"font-size: 16px;",class:"wordClarifyer WordCard_textarea",placeholder:n.clarifyerPlace,oninput:function(e){t.editWord(e,"clarifyer")}});return i.value=this.data.word,r.value=this.data.clarifyer,[i,r,div({style:this.style.divider}),this.data.otherWords.map(this.renderMapOtherWords),SmallButton({text:"Add Definition",style:this.style.addDefButton,onclick:this.addDefinition}),div({style:this.style.divider}),this.renderSavingEditButtons()]},renderSavingEditButtons:function(){var t=this.state,e=this.setState;return div({style:this.style.buttonRow},t.savingEdit?[SmallButton({hakAnimate:!0,text:"Back",onclick:function(){e({savingEdit:!1})},style:"width: 80px;"}),SmallButton({hakAnimate:!0,text:"Confirm Save",onclick:this.saveEdit,style:this.style.confirmButton})]:[SmallButton({hakAnimate:!0,text:"Cancel",style:"width: 110px;",onclick:this.cancelEdit}),SmallButton({hakAnimate:!0,text:"Save",style:"width: 110px; background: "+STYLES.mainColor+"; color: white;",onclick:function(){e({savingEdit:!0})}})])},renderMapOtherWords:function(t,e){var n=this,i=this.state,r=(e=e,i.otherWords[e]),o=textarea({rows:t.word.length>20?2:1,class:"otherWordTitle WordCard_textarea boldFont",style:"font-size: 18px;",placeholder:r?r.word:i.otherWordPlace,oninput:function(t){n.editWord(t,e,"word")}}),s=textarea({rows:3,class:"wordClarifyer WordCard_textarea",style:this.style.clarifyerTextarea,placeholder:r?r.clarifyer:i.otherClarifyer,oninput:function(t){n.editWord(t,e,"clarifyer")}});return o.value=t.word||"",s.value=t.clarifyer||"",div({k:Math.random(),class:"WordCard_otherWord",style:this.style.otherWordsContainer},o,s,SmallButton({text:"delete",style:n.style.deleteButton,onclick:function(){n.deleteDefinition(e)}}))},addDefinition:function(){this.data.otherWords.push({word:"",clarifyer:""}),this.fresh=!1,this.setState({k:Math.random()})},deleteDefinition:function(t){console.log(this.data.otherWords.splice(t,1)),console.log(this.data.otherWords),this.fresh=!1,this.setState({k:Math.random()})},editWord:function(t,e,n){if(this.fresh=!1,"string"==typeof e)return this.data[e]=t.target.value,!0;this.data.otherWords[e][n]=t.target.value},saveEdit:function(){var t=!!miscStore.getShelf("language").isMien,e=hak.clone(this.data);e._id=this.state.word._id||(t?"mien-":"english-")+(new Date).getTime(),dictionaryStore.getEntireStore().editEntry(e,t),this.cancelEdit()},cancelEdit:function(){for(var t=this.state.word.word===this.data.word&&this.state.word.clarifyer===this.data.clarifyer,e=0;e<this.data.otherWords.length;e++){var n=this.data.otherWords[e],i=this.state.otherWords[e];i&&n&&n.word===i.word&&n.clarifyer===i.clarifyer||(t=!1)}t=t||this.fresh,this.resetState(),this.setState({k:Math.random()}),t&&this.props.cancelFunction&&this.props.cancelFunction()}});hak.addStyle(function(t){return"\n.WordCard_textarea {\n\tpadding: 10px;\n\twidth: "+(t.width<450?t.width-110:282)+"px;\n\tborder: 1px solid #fbfbfb;\n\tmargin: -3px 0px -3px 0px;\n}\n\n.WordCard_otherWord {\n\tmargin-top: 30px;\n\tmargin-bottom: 30px;\n\tfont-weight: bold;\n\tborder-sizing: box-border;\n\ttransition: 0.3s;\n}\n\n\t"});var WordCard=hak.Component({Constructor:function(){this.state={open:this.props.open,editing:!1,favorite:this.props.favorite||!1,x:!0,cancel:!1},this.cardHeight="1000px"},render:function(){var t=this.props,e=this.state.open,n="*"===t.query?'<strong style="color: #000;">'+t.word+"</strong>":t.word.replace(t.query,'<strong style="color: #000;">'+t.query+"</strong>"),i=t.clarifyer.split("\n")[0].substring(0,30),r=e?"WordCard noSelect fainterShadow":"WordCard noSelect fainterShadow WordCard_closed";return i+=t.clarifyer.split("\n")[0].length>=30?"...":"",this.state.editing?this.renderEditCard():div({k:Math.random(),hakAnimate:!0,id:this.id+"w",class:r,style:e?"":"cursor: pointer; \n\t\t\t  margin: 7px 5px 0px 5px; \n\t\t\t  min-width: 30px; \n\t\t\t  padding: 15px 23px 2px 23px;  \n\t\t\t  -webkit-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n        -moz-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n          box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);",onclick:e?"":this.openCard},div({class:"WordCard_header--section"},div(p({class:"wordTitle"},tohtml(n)),t.clarifyer?p({class:"wordClarifyer",style:"font-size: 15px;"},e?t.clarifyer:i):div({style:"display: none;"})),this.renderOpenOrFave()),e&&this.renderOtherWords())},renderEditCard:function(){var t=this,e=div({class:"WordCard noSelect faintShadow",style:"margin: 20px;",hakAnimate:!0});var n=EditWordCard({word:this.props,callBack:function(t){e.style.height=t+50+"px"},cancelFunction:function(){t.setState({editing:!1})}});return e.appendChild(n),e},renderOpenOrFave:function(){if(this.state.open){var t=this,e=starStore.getShelf("favorites"),n=e.idList.indexOf(t.props._id)>-1,i="font-size: 24px; padding-top: 15px;"+(n?"color: "+STYLES.faveColor+";":"color: #888;");return div({onclick:function(i){e.addToFavorites(t.props,n),n=!n,t.setState({x:!t.state.x})},style:"padding: 15px; margin: -15px;"},div({class:"WordCard_button",style:i},tohtml("&#9733;")))}return div({class:"WordCard_button"},"+")},renderOtherWords:function(){var t=this,e=t.state.cancel,n="float: right; margin-right: 5px; color: white; background: tomato;"+(e?"width: 145px;":"width: 120px;");return div({class:"WordCard_body"},t.props.otherWords.map(function(t,e){return[div({class:"WordCard_divider"}),div({class:"WordCard_header--section WordCard_other"},div(p({class:"otherWordTitle"}," "+t.word),t.clarifyer?p({class:"wordClarifyer",style:"font-size: 14px;"},t.clarifyer):null))]}),this.props.editing?[div({class:"WordCard_divider",style:"margin-bottom: 18px;"}),SmallButton({hakAnimate:Math.random(),text:e?"No":"Edit",onclick:e?function(){t.setState({cancel:!1})}:function(){t.setState({editing:!0})},style:"float: right; color: white; background:"+STYLES.mainColor+";"}),this.props.cancelEdit?SmallButton({hakAnimate:Math.random(),text:e?"Are you sure?":"Delete Edit",onclick:e?this.props.cancelEdit:function(){t.setState({cancel:!t.state.cancel})},style:n}):null]:null)},renderButtons:function(){return div({class:"WordCard_Buttons"},div(),tohtml("&#9733;"))},openCard:function(){this.setState({open:!this.state.open})},playSound:function(){var t="../sound/words/"+this.state.id+".mp3",e=new Audio(t);e&&e.play()}});hak.addStyle(function(t){var e=t.width<450?t.width-40:350;return"\n\n.WordCard {\n\tbox-sizing: border-box;\n\toutline: none !important;\n\toverflow: hidden;\n  border-radius: 12px;\n  padding: 25px 25px 17px 25px;\n  margin: 11px 5px 5px 5px;\n\tbackground: white;\n\ttransition: 0.24s;\n  width: "+e+"px;\n  max-width: "+e+"px;\n  min-width: "+e+"px;\n}\n\n.WordCard_closed {\n\twidth: "+(e-30)+"px;\n\tmax-width: "+(e-30)+"px;\n}\n"},"\n\n.WordCard_Buttons {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding-top: 4px;\n\tfont-size: 22px;\n\twidth: 100%;\n\tcolor: #888;\n}\n.WordCard_button {\n  font-size: 36px;\n  text-align: center;\n  padding-top: 10px;\n  margin: -17px 19px -10px 10px;\n  width: 0px;\n  height: 10px;\n  cursor: pointer;\n}\n\n.WordCard_divider {\n\twidth: auto; \n\theight: 1px;\n\tbackground: "+STYLES.backgroundColor+';\n\tmargin: 14px -26px 7px -26px;\n}\n\n.WordCard_header--section {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.WordCard_other {\n\tpadding: 5px 5px 0px 5px;\n}\n\n\n.wordTitle {\n\tcolor: #111;\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 32px;\n  padding-bottom: 2px;\n  font-family: "Arial Black", Gadget, sans-serif;\n}\n\t\n.wordClarifyer {\n\tcolor: #555;\n\tfont-size: 12px;\n  font-style: italic;\n  left: 0; right: 0;\n  margin-right: 0px;\n  padding: 4px 5px 5px 5px;\n\n}\n\t\n.otherWordTitle {\n\tcolor: #222;\n  padding: 5px 0px 0px 0px;\n  font-size: 23px;\n\tline-height: 30px;\n}');var Book=hak.Component({subscribe:[miscStore.subscribe("book","language"),starStore.subscribe("editing"),dictionaryStore.subscribe()],Constructor:function(){this.state={results:[],abc:["A-Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]}},render:function(){var t=this.shelf.book;return div(t.selectedLetter?div({class:"BookList"},div({class:"BookList_sidescroller lightShadow"},this.renderBookItems(1)),div({id:"DicAnchor",class:"DicAnchor"},p({style:"font-size: 40px; float: left; padding: 24px;"},t.selectedLetter.toUpperCase()),this.getResults(10))):div({class:"Book"},this.renderBookItems()))},renderBookItems:function(t){var e=this.shelf.book,n=e.selectedLetter,i=t?"margin: -0px 7px -0px 5px;":"",r=n?this.state.abc:this.state.abc.slice(1),o=this.state.abc[0];return r.map(function(t){return div({class:"BookItem"+(e.selectedLetter?"":" fainterShadow"),style:i,id:"book"+t,ontouchmove:function(t){e.selectedLetter&&t.stopPropagation()},onclick:function(){document.documentElement.scrollTop=0;var n,i=(n=hak.$(".BookList_sidescroller"))&&n.scrollLeft;e.changeSelectedLetter(t!==o?t:""),(n=hak.$(".BookList_sidescroller"))&&(n.scrollLeft=i)}},p({style:t===n?"font-weight: bold; color: dodgerblue":"color: #111;"},t))})},getResults:function(t,e){for(var n=this.shelf,i=n.editing.editStatus,r=n.book.selectedLetter,o=n[(n.language.isMien?"mien":"english")+"Entries"]||[],s=[],a=(t=t||20,0);a<o.length;a++){var d=o[a];(d.clarifyer||d.word)&&d.word&&d.word[0].toLowerCase()===r&&s.push(d)}var l=s.splice(t);return setTimeout(function(){var t=hak.$("#DicAnchor");t.scrollTop=0,setTimeout(function(){for(var e=l&&l.map(function(t){return WordCard(t,{query:"*",editing:i})}),n=0;n<l.length;n++)t&&t.appendChild(e[n])},2)},1),s[0]?n.stocked?s.map(function(t){return WordCard(t,{query:"*",editing:i})}):div({class:"loader"}):div({style:"font-size: 20px; text-align: center; padding-top: 20px;"},"No results "+(r?"for "+r.toUpperCase():"yet"))}});hak.variables.scrollTop=0,APP.scrollEventFunctions.push(function(t){if(APP.playScrollFunctions){var e=t.scrollTop,n=hak.$(".BookList_sidescroller");n&&(hak.variables.scrollTop<e&&e>35?(n.style.top="-50px",n.style.opacity="0",hak.variables.scrolledDown=!0):(n.style.top="0px",n.style.opacity="1",hak.variables.scrolledDown=!1))}}),hak.variables.css+="\n\n\n.lightVertShadow {\n  -webkit-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n     -moz-box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n          box-shadow: 0px 0px 10px 2px rgba(0,0,0,0.3);\n} \n\n.DicAnchor{\n  justify-content: center;\n  align-items: center;\n  display: flex;\n\tflex-direction: column;\n  right: 0px;\n\tleft: 0px;\n\ttop: 0px;\n\tbottom: 0px;\n\tpadding: 17px 10px 200px 10px;\n}\n\n.Book {\n\tpadding: 20px 5px 100px 5px;\n\tleft: 0;\n\tright: 0;\n\tz-index: -1;\n\tjustify-content: center;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n  align-items: center;\n}\n\n.BookItem {\n\tpadding: 12px 14px 12px 12px;\n\tborder-radius: 10px;\n  line-height: 40px;\n\ttext-align: center;\n  margin: 6px;\n  height: 40px;\n  font-size: 32px;\n  width: 50px;\n\tbackground-color: white;\n}\n\n.BookItem:hover {\n  cursor: pointer;\n  color: skyblue;\n}\n\n.BookList_sidescroller {\n\ttransition: 0.25s;\n\tposition: -webkit-sticky;\n\tposition: sticky;\n  background-color: white;\n  top: 0px;\n  margin-top: -48px;\n  padding: 48px 20px 0px 10px;\n  overflow-x: scroll;\n  white-space: nowrap;\n  display: flex;\n  z-index: 9;\n}\n\n";var WordOfTheDay=hak.Component({subscribe:[miscStore.subscribe("language"),dictionaryStore.subscribe()],Constructor:function(){},render:function(){var t=this.shelf,e=new Date,n=170*e.getMonth(),i=e.getFullYear()-1950,r=n+e.getDate()+i,o=t[(t.language.isMien?"mien":"english")+"Entries"][r];return div({class:"StarPage"},p({class:"WordOfTheDay_text"},"Word of the Day"),o?WordCard(o,{query:"*",open:!0,editing:this.props.editing}):div({class:"WordCard"}))}});hak.addStyle(function(t){return"\n.WordOfTheDay_text {\n\tfont-size: 26px; \n\tfont-weight: bold;\n\tcolor: #555; \n\tpadding: 30px 0px 10px 30px;\n\twidth: "+(t.width<450?t.width-40:360)+"px;\n}"}),hak.variables.css+="\n.WordOfTheDay_text_small {\n\tdisplay: flex;\n\tfont-size: 22px; \n\tfont-weight: bold;\n\tcolor: #555; \n\tpadding-left: 15px;\n\tpadding-top: 25px;\n}\n";var SearchBar=function(){var t=miscStore.getMethods().search.setQuery,e=miscStore.getData();hak.variables.scrollTop=document.documentElement.scrollTop;var n=div({class:"searchBar faintShadow",id:"searchBar"},input({id:"searchBarInput",class:"searchBarInput",placeholder:"Search",value:e.search.query,onsubmit:function(t){console.log(t),t.blur()},onfocus:function(){hak.setParam("slide","1"),miscStore.getEntireStore().pageData.changePage("search")},oninput:function(){t(hak.$("#searchBarInput").value)}}),button({class:"searchButton",onclick:function(){var t=hak.$("#searchBarInput");t&&(t.value="",t.focus(),t.value=miscStore.getData().search.query)}},div({class:"searchIcon",onclick:function(){}},tohtml("&#9906;"))));return[div({class:"searchFiller",id:"searchFiller"}),n]},RecentSearchs=function(){return div({class:"RecentSearchs"},"Results will appear here")},SearchResults=hak.Component({subscribe:[miscStore.subscribe("search"),miscStore.subscribe("language"),starStore.subscribe("editing"),dictionaryStore.subscribe()],render:function(){return div({id:"DicAnchorSearch",class:"DicAnchorSearch"},this.getResults())},getResults:function(t,e){var n=this.shelf,i=n.editing.editStatus,r=n.search.query.toLowerCase().trim(),o=n[(n.language.isMien?"mien":"english")+"Entries"],s=o&&o.length||0,a=[[],[],[]];if(!n.stocked&&r)return div({class:"loader"});if(!r)return RecentSearchs();for(var d=0;d<s;d++)if(o[d].word.toLowerCase().trim()!==r)for(var l=o[d].word.split(","),c=0;c<l.length;c++){if(l[c].toLowerCase().trim()===r){a[1].push(WordCard(o[d],{open:!0,query:r,editing:i}));break}for(var h=l[c].split(" "),u=0;u<h.length;u++)if(h[u].toLowerCase().trim()===r){a[2].push(WordCard(o[d],{query:r,editing:i}));break}}else a[0].push(WordCard(o[d],{open:!0,query:r,editing:i}));return a}}),Search=hak.Component({setQuery:function(t){this.setState({query:t})},render:function(){return div({class:"SearchContainer"},SearchBar(),SearchResults())}});APP.scrollEventFunctions.push(function(t){if(APP.playScrollFunctions){var e=t.scrollTop,n=hak.$("#searchFiller"),i=hak.$("#searchBar");hak.variables.scrollTop<e&&e>40?(n&&(n.style.transition="0",n.style.opacity="0"),i&&(i.style.top="-20px",i.style.opacity="0.5"),hak.variables.scrolledDown=!0):(n&&(n.style.transition="0.2s",n.style.opacity="1"),i&&(i.style.top="70px",i.style.opacity="1"),hak.variables.scrolledDown=!1)}}),hak.addStyle(function(t){var e=t.width<450?t.width-32:358;return"\n\n\n.RecentSearchs {\n\twidth: "+e+"px;\n\ttext-align: center;\n\tpadding-top: 30px;\n\tfont-style: italic;\n\tcolor: #999;\n\tfont-size: 20px;\n}\n\n.searchBar {\n\ttransition: 0.25s;\n\tposition: sticky;\n\ttop: 70px;  \n\tborder-radius: 120px;\n\tbackground-color: white;\n\tpadding: none;\n\toverflow: hidden; \n\tdisplay: flex;\n\tjustify-content: center;\n\twidth: "+e+"px;\n\talign-self: center;\n\tz-index: 30;\n}\n\t\n.searchBarInput {\n\twidth: "+(e-80)+"px;\n  font-size: 26px;\n  border: none; \n  padding: 6px 4px 6px 6px;\n  outline: none;\n\tbackground-color: white;\n}\n\t\n"},"\n\n.searchFiller {\n\tposition: fixed; \n\twidth: 100%; \n\ttop: 0;\n\theight: \n\t95px; \n\tz-index: 2; \n\tbackground-color: "+STYLES.backgroundColor+";\n}\n\n.SearchContainer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n  background-color: "+STYLES.backgroundColor+";\n}\n\t\n.searchButton {\n\tbackground-color: white;\n  font-size: 32px;\n  border: none; \n  padding: 0px 8px 0px 8px;\n  outline: none;\n\ttransition: 0.3s;\n}\n.searchButton:hover {\n\tcursor: pointer;\n\tcolor: skyblue;\n}\n\n\n.DicAnchorSearch{\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  right: 0px;\n  left: 0px;\n  padding: 40px 10px 200px 10px;\n  overflow: hidden;\n}\n");var Options=hak.Component({subscribe:[starStore.subscribe("editing")],render:function(){return div({class:"flex-column",style:"padding-top: 40px;"},p({class:"WordOfTheDay_text"},"Settings"),this.renderOptions())},renderOptions:function(){var t=this.shelf.editing.editStatus;return[div({class:"Options_switch WordCard faintShadow"},"Editing Mode",SmallButton({text:t?"on":"off",style:t?"background: "+STYLES.boldColor+"; color: white;":"background: #fff;-webkit-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n        -moz-box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);\n          box-shadow: 0px 4px 15px -1px rgba(0,0,0,0.07);",onclick:this.shelf.editing.changeEditStatus}))]}});hak.variables.css+="\n\n.Options_switch {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 15px 15px 15px 20px;\n\tfont-size: 24px;\n\tcolor: #222;\n\tline-height: 40px;\n}\n\n";var Welcome=hak.Component({render:function(){return div({class:"Welcome-container"},div({class:"WordCard faintShadow Welcome"},h4("Welcome to the"),h2("Iu Mien Dictionary!"),p({style:"font-style: italic; font-size: 14px; padding-top: 5px;"},"An app to help utilize Vicky's Mien dictionary spreadsheet more effectively"),br(),p(strong("Add this site to the home screen")," to use offline."),br(),p("Navigate around with the tab buttons below, and change the search language by hitting the button in the top right corner."),p("Have fun!")))}});hak.variables.css+="\n.Welcome-container {\n\tposition: fixed;\n\tdisplay: flex; \n\tjustify-content: center; \n\talign-items: center; \n\tright: 0px;\n\ttop: 60px;\n\tleft: 0px; \n\tbottom: 60px; \n}\n\n.Welcome {\n\tpadding: 40px;\n\twidth: auto;\n\theight: auto;\n}\n\n\n";var EditPage=hak.Component({subscribe:[starStore.subscribe("editing"),miscStore.subscribe("language"),dictionaryStore.subscribe("editedEntries")],render:function(){if(!this.shelf.editing.editStatus)return div();var t=div({class:"WordCard noSelect faintShadow ",hakAnimate:!0});t.appendChild(EditWordCard({callBack:function(e){t.style.height=e+50+"px"}}));this.shelf;var e=this.shelf.language.isMien?"Mien":"English";return div({class:"flex-column",style:"margin-top: 40px;"},p("Editing",{class:"WordOfTheDay_text"}),p("Add a new "+e+" word",{class:"WordOfTheDay_text_small"}),t,div({style:"height: 30px;"}),p("My edited words",{class:"WordOfTheDay_text_small"}),this.renderMyEditedWords(),div({style:"height: 140px;"}))},renderMyEditedWords:function(){var t=this.shelf.editedEntries;return div({style:"display: flex; flex-direction: column; justify-content: center; align-items: center;"},t.list.map(function(e){return WordCard(e,{editing:!0,cancelEdit:function(){t.cancel(e)}})}).reverse())}}),StarPage=hak.Component({subscribe:[starStore.subscribe()],render:function(){return div({class:"StarPage",style:"padding-bottom: 150px;"},this.renderSettingsButtons(),this.shelf.settings.showSettings?[Options(),EditPage()]:[WordOfTheDay({editing:this.shelf.editing.editStatus}),this.renderFavorites(),this.renderShare()])},renderSettingsButtons:function(){var t=this.shelf.settings;return div({class:"renderSettingsButtons_container"},PageSelectorButtons({entries:[["Favorites ",div({style:"margin-left: 10px; font-size: 22px;"},tohtml("&#9733;"))],div({style:"display: flex; padding-top: 2px;"},"Settings ",img({src:"images/gear.png",width:"28px",height:"28px",style:"margin: -3px 0px 0px 10px ;"}))],selected:t.showSettings||0,onclick:function(e,n){return t.changePage(e,n)}}))},renderFavorites:function(){var t=this.shelf.favorites.idList,e=this.shelf.editing.editStatus;return[p({class:"WordOfTheDay_text"},"My Saved Words")].concat(t[0]?this.shelf.favorites.getFavorites().map(function(t){return WordCard(t,{open:"true",editing:e})}).reverse():[div({class:"RecentSearchs"},"Your saved words will appear here, simply hit the star to save a word")])},renderShare:function(){return tohtml("")}});function Header(t){var e=hak.K({subscribe:miscStore.subscribe("language")},function(){var t=this,e=this.shelf.language.isMien?"Mien":"En";return window.HeaderChangeLang=function(){t.shelf.language.changeLanguage()},SmallButton({text:strong(e),onclick:t.shelf.language.changeLanguage,toggle:!0,style:"height: 36px; line-height: 36px; width: 60px; transition:0;",onStyle:"width: 50px;",isOn:!t.shelf.language.isMien})});return[div({class:"Header lightShadow",id:"Header",style:"background:"+STYLES.menuBarColor+";"},h1("Iu Mien Dictionary",{style:"font-weight: bold;"}),div({class:"flex-row"},TabBar(),e)),div({style:"left: 0; right: 0; height: 48px; "})]}hak.addStyle(function(t){t.width<450&&t.width;return"\n\n\n.StarPage {\n\tpadding: 40px 0px 10px 0px; \n\tdisplay: flex; \n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.shareContainer {\n\tdisplay: flex;\n\tjustify-content: space-around;\t\n}\n\n.shareChild span {\n\tpadding: 10px 30px 10px 30px;\n\twidth: 40px;\n\theight: 40px;\n}\n\n.FavoritesList {\n\tpadding: 60px 0px 200px 0px; \n\tjustify-content: center;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.renderSettingsButtons_container {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: -16px 0px -18px 0px;\n}\n"});var TabBar=hak.Component({subscribe:[miscStore.subscribe("book"),miscStore.subscribe("search"),miscStore.subscribe("pageData")],render:function(t){this.shelf.book;var e=this.shelf.pageData,n=e.selectedPage,i=e.changePage,r=this.shelf.search,o=hak.screenSize.width<500,s="color: "+STYLES.mainColor+"; background: white;";return div({class:"TabBar lightShadow",id:o?"Tab_Bar_hiding":""},div({class:"tabButton",style:"book"===n?s:"",onclick:function(){window.location.hash.indexOf("book")>-1?(hak.setParam("letter",!1,!0),window.onpopstate()):(router.linkTo("home/book"),i("book"))}},strong("A-Z")),div({class:"tabButton",style:"search"===n?s:"",onclick:function(){if(window.location.hash.indexOf("search")>-1){var t=hak.$("#searchBarInput");t&&(t.value=""),t&&t.focus(),t&&(t.value=r.query)}else router.linkTo("home/search"),i("search")}},div({class:"searchIcon",style:"padding-left: 2px;"},tohtml("&#9906;"))),div({class:"tabButton",style:"star"===n?s:"",onclick:function(){router.linkTo("home/star"),i("star")}},div({style:"font-size: 24px;"},tohtml("&#9733;"))))}}),Home=hak.Component({render:function(){return div({class:"HomePage",id:"HomePage",onscroll:function(t){APP.scrollEventFunctions.forEach(function(e){e(t.target)}),hak.variables.scrollTop=t.target.scrollTop}},Header(),this.renderRoutes())}});hak.addStyle(function(t){var e=t.width<600,n=hak.$(".TabBar");return n&&(n.id=e?"Tab_Bar_hiding":""),e?"":"\n.TabBar {\n\tposition: relative;\n\twidth: auto;\n\tmargin-right: 10px;\n\t-webkit-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.30);\n     -moz-box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.30);\n\t\t\t\t\tbox-shadow: 0px 0px 0px 0px rgba(0,0,0,0.29);\n}\n.tabButton {\n\twidth: 68px;\n\theight: 47px;\n\tcolor: white;\n\tbackground: "+STYLES.mainColor+";\n\tmargin: -3px 0px -3px 0px;\n\t\n}\n"}),hak.variables.css+="\n\n.Swipe_ {\n\tmargin-top: -12px;\n}\n\n.HomePage {\n  left: 0;\n  bottom: 0;\n  right: 0;\n\ttop: 0;\n\tposition: absolute;\n\toverflow: scroll;\n}\n\n\n";var router=hak.Router("home/book");router.addRoutes(["home",Home],["star",StarPage],["book",Book],["welcome",Welcome],["search",Search]),router.addMiddleware(function(t,e){var n=hak.$("#HomePage")||hak.El("div")(),i=n.scrollTop||0,r=t[t.indexOf("home")+1],o=e[e.indexOf("home")+1];!APP.routes[r]&&(APP.routes[r]={}),!APP.routes[o]&&(APP.routes[o]={}),APP.playScrollFunctions=!1,APP.routes[r].scroll=i,setTimeout(function(){n&&(n.scrollTop=APP.routes[o].scroll||0)},1),setTimeout(function(){var t=e[e.indexOf("home")+1];n&&(n.scrollTop=APP.routes[t].scroll||0)},80),setTimeout(function(){APP.playScrollFunctions=!0},300)}),hak.addStyle(function(t){var e=t.width<500?0:(t.width-500)/2;return"\n.horizontal-filler-desktop {\n  width: "+e+"px;\n  flex: 0.01;\n  display: "+(e?"block":"none")+";\n  position: "+(e?"relative":"fixed")+";\n}\n"}),hak.addStyle(hak.variables.css+"\n\n* {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\nbody {\n  background: "+STYLES.backgroundColor+";\n}\n\n.Header {\n  font-weight: bold;\n}\n\n.flex-column {\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center; \n}\n\n.flex-row {\n  display: flex;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n}\n\n.swipe {\n  overflow: hidden;\n  visibility: hidden;\n  position: relative;\n}\n.swipe-wrap {\n  overflow: hidden;\n  position: relative;\n}\n.swipe-wrap > div {\n  float: left;\n  width: 100%;\n  height: 100vh;\n  overflow-x: scroll;\n  position: relative;\n}\n\n.noSelect {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.mediumShadow {\n  -webkit-box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n     -moz-box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n          box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.25);\n}\n\n.heavyShadow {\n  -webkit-box-shadow: 0px 0px 18px -1px rgba(0,0,0,0.8);\n  -moz-box-shadow: 0px 0px 18px -1 px rgba(0,0,0,0.8);\n  box-shadow: 0px 0px 18px -1px rgba(0,0,0,0.8);\n}\n\n.bottomBorder {\n  border-bottom: 2px solid black;\n}\n\n.flat {\n  -webkit-box-shadow: 0px 0px 0px 0px white;\n     -moz-box-shadow: 0px 0px 0px 0px white;\n          box-shadow: 0px 0px 0px 0px white;\n}\n\n.boldFont {font-weight: bold;}\n"),hak.mount(router.render(),"#root",!0);